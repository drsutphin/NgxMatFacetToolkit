{"version":3,"file":"main.js","mappings":"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","sources":["./projects/demo-application/src/app/common.helpers.ts","./projects/demo-application/src/app/app.component.ts","./projects/demo-application/src/app/app.component.html","./projects/demo-application/src/app/app.routes.ts","./projects/demo-application/src/app/pages/page-two/page-two.component.ts","./projects/demo-application/src/app/pages/page-two/page-two.component.html","./projects/demo-application/src/app/components/settings/settings.component.ts","./projects/demo-application/src/app/components/settings/settings.component.html","./projects/demo-application/src/main.ts","./projects/ngx-mat-facet-toolkit/src/lib/models/facet-data-type.model.ts","./projects/ngx-mat-facet-toolkit/src/lib/models/facet-filter-type.model.ts","./projects/ngx-mat-facet-toolkit/src/lib/models/facet-preset-storage.model.ts","./projects/ngx-mat-facet-toolkit/src/lib/models/facet-toolkit-config.model.ts","./projects/ngx-mat-facet-toolkit/src/lib/modals/facet-modal.data.ts","./projects/ngx-mat-facet-toolkit/src/lib/models/facet-result.model.ts","./projects/ngx-mat-facet-toolkit/src/lib/directives/focus-on-show.directive.ts","./projects/ngx-mat-facet-toolkit/src/lib/modals/facet-modal.ref.ts","./projects/ngx-mat-facet-toolkit/src/lib/modals/facet-details-modal/facet-details-modal.component.ts","./projects/ngx-mat-facet-toolkit/src/lib/modals/facet-details-modal/facet-details-modal.component.html","./projects/ngx-mat-facet-toolkit/src/lib/modals/facet-modal.config.ts","./projects/ngx-mat-facet-toolkit/src/lib/modals/facet-modal/facet-modal.animations.ts","./projects/ngx-mat-facet-toolkit/src/lib/modals/facet-modal/facet-modal.component.ts","./projects/ngx-mat-facet-toolkit/src/lib/modals/facet-modal/facet-modal.component.html","./projects/ngx-mat-facet-toolkit/src/lib/modals/facet-modal.service.ts","./projects/ngx-mat-facet-toolkit/src/lib/modals/preset-delete-modal/preset-delete-modal.component.ts","./projects/ngx-mat-facet-toolkit/src/lib/modals/preset-delete-modal/preset-delete-modal.component.html","./projects/ngx-mat-facet-toolkit/src/lib/modals/preset-manager-modal/preset-manager-modal.component.ts","./projects/ngx-mat-facet-toolkit/src/lib/modals/preset-manager-modal/preset-manager-modal.component.html","./projects/ngx-mat-facet-toolkit/src/lib/modals/preset-name-modal/preset-name-modal.component.ts","./projects/ngx-mat-facet-toolkit/src/lib/modals/preset-name-modal/preset-name-modal.component.html","./projects/ngx-mat-facet-toolkit/src/lib/misc/parent.helper.ts","./projects/ngx-mat-facet-toolkit/src/lib/ngx-mat-facet-toolkit.animations.ts","./projects/ngx-mat-facet-toolkit/src/lib/services/facet-storage.service.ts","./projects/ngx-mat-facet-toolkit/src/lib/services/facet-preset-storage.service.ts","./projects/ngx-mat-facet-toolkit/src/lib/facet-toolkit.config.ts","./projects/ngx-mat-facet-toolkit/src/lib/pipes/csv/csv.pipe.ts","./projects/ngx-mat-facet-toolkit/src/lib/pipes/filter/filter.pipe.ts","./projects/ngx-mat-facet-toolkit/src/lib/pipes/keys/keys.pipe.ts","./projects/ngx-mat-facet-toolkit/src/lib/ngx-mat-facet-toolkit.component.ts","./projects/ngx-mat-facet-toolkit/src/lib/ngx-mat-facet-toolkit.component.html","./projects/ngx-mat-facet-toolkit/src/public-api.ts","./projects/ngx-mat-facet-toolkit/src/drsutphin-ngx-mat-facet-toolkit.ts","./projects/demo-application/src/environments/environment.ts","./projects/demo-application/src/app/components/output/output.component.ts","./projects/demo-application/src/app/components/output/output.component.html","./projects/demo-application/src/app/pages/page-one/page-one.component.ts","./projects/demo-application/src/app/pages/page-one/page-one.component.html"],"sourcesContent":["import {of} from 'rxjs';\nimport {FacetValue} from '@drsutphin/ngx-mat-facet-toolkit';\nimport {delay, map} from 'rxjs/operators';\n\nexport const testEmptyFilterTypeahead = (text: string) => of<FacetValue[]>([\n  {value: '-a', label: ' A'},\n  {value: '-b', label: ' B'},\n  {value: '-c', label: ' C'}\n]).pipe(\n  map(values => {\n    const filtered = values.filter(value => !!value.label && value.label.includes(text));\n\n    if (filtered.length === 0) {\n      return [];\n    }\n\n    return filtered;\n  }),\n  delay(300),\n);\n\nconst randomValueArray: FacetValue[] = [...new Set(Array.from({length: 40}, () => Math.floor(Math.random() * 40)).map(num => ({\n  value: `${num}`,\n  label: `${num}`\n})))];\n\nexport const lotsOfValuesTypeAhead = (text: string) => of(randomValueArray).pipe(\n  map(values => {\n    const filtered = values.filter(value => {\n      if (text.length > 0) {\n        return !!value.label && value.label.includes(text);\n      }\n\n      return true;\n    });\n\n    if (filtered.length === 0) {\n      return [];\n    }\n\n    return filtered;\n  }),\n  delay(300),\n);\n","import {ChangeDetectionStrategy, Component, Inject, OnInit} from '@angular/core';\nimport {DOCUMENT} from '@angular/common';\nimport {NavigationEnd, Router, RouterLink, RouterOutlet} from '@angular/router';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport {FacetIdentifierStrategy} from '@drsutphin/ngx-mat-facet-toolkit';\nimport packageData from '../../../ngx-mat-facet-toolkit/package.json';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    MatToolbarModule,\n    MatButtonModule,\n    MatIconModule,\n    RouterLink,\n    RouterOutlet\n  ]\n})\nexport class AppComponent implements OnInit {\n\n  showPageOne = true;\n  showPageTwo = true;\n  isDarkMode = false;\n  version = packageData.version;\n  repo = typeof packageData.repository === 'string' ? packageData.repository : packageData.repository?.url;\n\n  constructor(private router: Router, @Inject(DOCUMENT) private document: Document) {\n  }\n\n  ngOnInit() {\n    this.router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) {\n        const currentURL = event.url;\n        if (currentURL.includes('two')) {\n          this.showPageTwo = false;\n          this.showPageOne = true;\n        } else {\n          this.showPageOne = false;\n          this.showPageTwo = true;\n        }\n      }\n    });\n  }\n\n  toggleTheme() {\n    this.isDarkMode = !this.isDarkMode;\n    this.document.body.classList.toggle('dark-theme', this.isDarkMode);\n  }\n}\n","<mat-toolbar>\n  <span>Angular Material Facet Toolkit: v{{version}}</span>\n  <span class=\"spacer\"></span>\n  <a mat-button routerLink=\"\" [color]=\"showPageTwo ? 'primary' : ''\">\n    Page One\n  </a>\n  <a mat-button routerLink=\"/two\" [color]=\"showPageOne ? 'primary' : ''\">\n    Page Two\n  </a>\n  <button mat-button (click)=\"toggleTheme()\">\n    <mat-icon>{{ isDarkMode ? 'light_mode' : 'dark_mode' }}</mat-icon>\n    {{ isDarkMode ? 'Light mode' : 'Dark mode' }}\n  </button>\n  <span class=\"spacer\"></span>\n  <a [href]=\"repo\" target=\"_blank\" mat-stroked-button>View on GitHub</a>\n</mat-toolbar>\n\n<div fxLayout=\"column\" class=\"container\">\n  <router-outlet></router-outlet>\n</div>\n","import {Routes} from '@angular/router';\nimport {PageOneComponent} from './pages/page-one/page-one.component';\nimport {PageTwoComponent} from './pages/page-two/page-two.component';\n\nexport const APP_ROUTES: Routes = [\n  {path: '', component: PageOneComponent},\n  {path: 'two', component: PageTwoComponent},\n  {path: '**', redirectTo: ''}\n];\n","import {Component} from '@angular/core';\nimport {\n  FacetDefinition,\n  FacetIdentifierStrategy,\n  FacetToolkitConfig\n} from '@drsutphin/ngx-mat-facet-toolkit';\nimport {SettingsComponent} from '../../components/settings/settings.component';\nimport {OutputComponent} from '../../components/output/output.component';\nimport {NgxMatFacetToolkitComponent} from '@drsutphin/ngx-mat-facet-toolkit';\nimport {MatCardModule} from '@angular/material/card';\nimport {MatDividerModule} from '@angular/material/divider';\n\n@Component({\n  selector: 'app-page-two',\n  templateUrl: './page-two.component.html',\n  styleUrls: ['./page-two.component.scss'],\n  standalone: true,\n  imports: [\n    MatCardModule,\n    MatDividerModule,\n    NgxMatFacetToolkitComponent,\n    SettingsComponent,\n    OutputComponent\n  ]\n})\nexport class PageTwoComponent {\n  facets: Array<FacetDefinition> = [];\n  identifier: string | null = null;\n  strategy: FacetIdentifierStrategy = FacetIdentifierStrategy.ParentID;\n  config: Partial<FacetToolkitConfig> = {\n    identifierStrategy: FacetIdentifierStrategy.ParentID,\n    chipRowScrollable: true,\n    showFilterCount: true\n  };\n\n  strategyUpdated(newStrategy: FacetIdentifierStrategy) {\n    this.strategy = newStrategy;\n    this.config = {\n      ...this.config,\n      identifierStrategy: newStrategy\n    };\n  }\n\n  manualIdentifierUpdated(identifier: string) {\n    this.identifier = identifier;\n  }\n\n  facetsUpdated(facets: FacetDefinition[]) {\n    this.facets = facets;\n  }\n}\n","<mat-card appearance=\"outlined\">\n  <mat-card-content>\n\n    <ngx-mat-facet-toolkit\n      [facets]=\"facets\"\n      [config]=\"config\"\n      [identifier]=\"identifier\"\n      (facetChange)=\"output.filterUpdated($event)\"\n      [chipLabelsEnabled]=\"settings.chipLabelsEnabled\"\n      [confirmOnRemove]=\"settings.confirmOnRemove\"\n      [clearButtonEnabled]=\"settings.clearButtonEnabled\"\n      placeholder=\"Add a filter...\"\n      clearButtonText=\"CLEAR FILTERS\">\n    </ngx-mat-facet-toolkit>\n\n  </mat-card-content>\n</mat-card>\n\n<mat-divider></mat-divider>\n\n<div class=\"content\">\n\n  <app-settings\n    #settings\n    (facetsUpdated)=\"facetsUpdated($event)\"\n    [currentIdentifier]=\"identifier\"\n    [strategy]=\"strategy\"\n    (strategyUpdated)=\"strategyUpdated($event)\"\n    (manualIdentifierUpdated)=\"manualIdentifierUpdated($event)\">\n  </app-settings>\n  <mat-divider [vertical]=\"true\"></mat-divider>\n  <app-output #output></app-output>\n\n</div>\n","import {AfterViewInit, Component, EventEmitter, Input, Output} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatCardModule} from '@angular/material/card';\nimport {MatCheckboxModule} from '@angular/material/checkbox';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatTooltipModule} from '@angular/material/tooltip';\nimport {BehaviorSubject, of} from 'rxjs';\nimport {delay, map} from 'rxjs/operators';\nimport {\n  FacetDataType,\n  FacetDefinition,\n  FacetIdentifierStrategy,\n  FacetValue\n} from '@drsutphin/ngx-mat-facet-toolkit';\nimport {lotsOfValuesTypeAhead, testEmptyFilterTypeahead} from '../../common.helpers';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.scss'],\n  standalone: true,\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatButtonModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatSelectModule,\n    MatTooltipModule\n  ]\n})\nexport class SettingsComponent implements AfterViewInit {\n\n  @Output()\n  strategyUpdated = new EventEmitter<FacetIdentifierStrategy>(true);\n\n  @Output()\n  manualIdentifierUpdated = new EventEmitter<string>(true);\n\n  @Output()\n  facetsUpdated = new EventEmitter<FacetDefinition[]>(true);\n\n  @Input()\n  set strategy(value: FacetIdentifierStrategy) {\n    this.currentStrategy = value;\n  }\n\n  @Input()\n  currentIdentifier: string | null = '';\n\n  public chipLabelsEnabled = true;\n  public clearButtonEnabled = true;\n  public confirmOnRemove = true;\n  public isUsingSetB = true;\n\n  public allStrategies: FacetIdentifierStrategy[] = [];\n  public currentStrategy: FacetIdentifierStrategy = FacetIdentifierStrategy.ParentID;\n  public showManualInput = new BehaviorSubject(false);\n  public manualIdentifier = '';\n  public facets: Array<FacetDefinition> = [];\n\n  private allFacets: FacetDefinition[] = [\n    {\n      id: 'user-name',\n      label: 'User Name',\n      type: FacetDataType.Text,\n      description: 'Please enter your user name (simple text input example)',\n      icon: 'person_outline'\n    }, {\n      id: 'birthday',\n      label: 'Birthday',\n      icon: 'date_range',\n      description: 'Please select your birthday (date select example)',\n      type: FacetDataType.Date,\n    },\n    {\n      id: 'score',\n      label: 'Score',\n      icon: 'speed',\n      description: 'Numeric filter with comparison operators.',\n      type: FacetDataType.Numeric,\n      dataType: 'number',\n      placeholder: 'Enter a score'\n    },\n    {\n      id: 'event-days',\n      label: 'Event Days',\n      icon: 'event_available',\n      description: 'Please select start and end dates (date range select example)',\n      type: FacetDataType.DateRange,\n    },\n    {\n      id: 'is-participant',\n      label: 'Is a Participant?',\n      icon: 'live_help',\n      description: 'This is a test field, you can test boolean data type.',\n      type: FacetDataType.Boolean,\n    },\n    {\n      id: 'state',\n      label: 'State',\n      description: 'Please select something (single select, http example)',\n      type: FacetDataType.CategorySingle,\n      icon: 'folder_open',\n      options: of<FacetValue[]>([\n        {value: 'open', label: 'Open', count: 49},\n        {value: 'closed', label: 'Closed', count: 23}\n      ]).pipe(delay(700))\n    },\n    {\n      id: 'license',\n      label: 'License(s)',\n      description: 'Please select your licenses (multi select, http example)',\n      type: FacetDataType.Category,\n      icon: 'drive_eta',\n      options: of<FacetValue[]>([\n        {value: 'a', label: 'Class A'},\n        {value: 'b', label: 'Class B'},\n        {value: 'c', label: 'Class C'}\n      ]).pipe(delay(1200))\n    },\n    {\n      id: 'city',\n      label: 'Cities',\n      description: 'Please select from cities.',\n      type: FacetDataType.Typeahead,\n      icon: 'location_city',\n      typeahead: {\n        provider: (txt: string) => of<FacetValue[]>([\n          {value: `${txt}-a`, label: `${txt} A`},\n          {value: `${txt}-b`, label: `${txt} B`},\n          {value: `${txt}-c`, label: `${txt} C`}\n        ]).pipe(delay(1200)),\n      }\n    },\n    {\n      id: 'department',\n      label: 'Department',\n      description: 'Department filter.',\n      type: FacetDataType.Text,\n      icon: 'apartment'\n    },\n    {\n      id: 'birthday-two',\n      label: 'Birthday 2',\n      icon: 'date_range',\n      description: 'Please select your birthday (date select example)',\n      type: FacetDataType.Date,\n    },\n    {\n      id: 'empty',\n      label: 'Empty Test',\n      description: 'Please select from options.',\n      type: FacetDataType.Typeahead,\n      icon: 'clear',\n      typeahead: {\n        provider: testEmptyFilterTypeahead,\n        placeholder: 'Empty'\n      }\n    },\n    {\n      id: 'many',\n      label: 'Many Test',\n      description: 'Please select from options.',\n      type: FacetDataType.Typeahead,\n      icon: 'dns',\n      typeahead: {\n        provider: lotsOfValuesTypeAhead,\n        placeholder: '1'\n      }\n    }\n  ];\n\n  constructor() {\n    this.allStrategies = Object.values(FacetIdentifierStrategy);\n    this.strategyUpdated.pipe(\n      map(v => v.toLowerCase() === 'manual')\n    ).subscribe(this.showManualInput);\n  }\n\n  ngAfterViewInit() {\n    this.toggleSet();\n  }\n\n  chunkArray = (arr: Array<any>, n: number) => {\n    const chunkLength = Math.max(arr.length / n, 1);\n    const chunks = [];\n    for (let i = 0; i < n; i++) {\n      if (chunkLength * (i + 1) <= arr.length) {\n        chunks.push(arr.slice(chunkLength * i, chunkLength * (i + 1)));\n      }\n    }\n    return chunks;\n  };\n\n  displayStrategy(raw: string): string {\n    switch (raw) {\n      case 'windowURL':\n        return 'Window URL';\n      case 'parentID':\n        return 'Parent ID';\n      default:\n        return raw;\n    }\n  }\n\n  toggleSet() {\n    const chunked = this.chunkArray(this.allFacets, 2);\n\n    if (this.isUsingSetB) {\n      this.facets = chunked[0];\n      this.isUsingSetB = false;\n    } else {\n      this.facets = chunked[1];\n      this.isUsingSetB = true;\n    }\n\n    this.facetsUpdated.emit(this.facets);\n  }\n}\n","<mat-card appearance=\"outlined\" class=\"settings-card\">\n  <mat-card-title>Settings</mat-card-title>\n  <mat-card-content class=\"settings-content\">\n    <mat-checkbox [(ngModel)]=\"chipLabelsEnabled\">Chip labels</mat-checkbox>\n    <mat-checkbox [(ngModel)]=\"clearButtonEnabled\">\"Clear\" Button</mat-checkbox>\n    <mat-checkbox [(ngModel)]=\"confirmOnRemove\">Confirmation on remove</mat-checkbox>\n    <button mat-button (click)=\"toggleSet()\">Use {{isUsingSetB ? 'Set A' : 'Set B'}}</button>\n    <mat-form-field appearance=\"outline\">\n      <mat-label>ID Generation Strategy</mat-label>\n      <mat-select [(value)]=\"currentStrategy\" (selectionChange)=\"strategyUpdated.emit($event.value)\">\n        @for (strategy of allStrategies; track strategy) {\n          <mat-option [value]=\"strategy\">\n            {{displayStrategy(strategy)}}\n          </mat-option>\n        }\n      </mat-select>\n    </mat-form-field>\n    <pre matTooltip=\"Current Identifier\">{{currentIdentifier}}</pre>\n\n    @if (showManualInput | async) {\n      <mat-form-field class=\"manual-input\" appearance=\"outline\">\n        <mat-label>Manual Identifier</mat-label>\n        <input #manualInput matInput placeholder=\"cool-beans\" [(ngModel)]=\"manualIdentifier\"\n               (change)=\"manualIdentifierUpdated.emit(manualInput.value)\">\n      </mat-form-field>\n    }\n\n  </mat-card-content>\n</mat-card>\n","import {enableProdMode} from '@angular/core';\nimport {bootstrapApplication} from '@angular/platform-browser';\nimport {provideAnimations} from '@angular/platform-browser/animations';\nimport {provideRouter} from '@angular/router';\nimport {AppComponent} from './app/app.component';\nimport {APP_ROUTES} from './app/app.routes';\nimport {environment} from './environments/environment';\nimport {FacetIdentifierStrategy, provideFacetToolkitConfig} from '@drsutphin/ngx-mat-facet-toolkit';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nbootstrapApplication(AppComponent, {\n  providers: [\n    provideAnimations(),\n    provideRouter(APP_ROUTES),\n    provideFacetToolkitConfig({\n      loggingCallback: (...args) => {\n        console.log(...args);\n      },\n      identifierStrategy: FacetIdentifierStrategy.ParentID\n    })\n  ]\n}).catch(err => console.error(err));\n","export enum FacetDataType {\n  Text = 'Text',\n  // eslint-disable-next-line id-blacklist\n  Boolean = 'Boolean',\n  Category = 'Category',\n  CategorySingle = 'CategorySingle',\n  Date = 'Date',\n  DateRange = 'DateRange',\n  Numeric = 'Numeric',\n  Typeahead = 'Typeahead',\n  TypeaheadSingle = 'TypeaheadSingle'\n}\n","export enum FacetFilterType {\n  contains = 'contains',\n  startsWith = 'startsWith',\n  endsWith = 'endsWith',\n  equal = 'equal',\n  and = 'and',\n  between = 'between',\n  greaterThan = 'greaterThan',\n  lessThan = 'lessThan',\n  greaterThanOrEqual = 'greaterThanOrEqual',\n  lessThanOrEqual = 'lessThanOrEqual'\n}\n","import {FacetPreset} from './facet-preset.model';\n\nexport type FacetPresetStorageStrategy = 'local' | 'session' | 'none';\n\nexport interface FacetPresetStorageCallbacks {\n  loadPresets?: (identifier: string) => FacetPreset[];\n  savePresets?: (identifier: string, presets: FacetPreset[]) => void;\n  clearPresets?: (identifier: string) => void;\n}\n\nexport interface FacetPresetStorageConfig {\n  strategy?: FacetPresetStorageStrategy;\n  keyPrefix?: string;\n  callbacks?: FacetPresetStorageCallbacks;\n}\n\nexport const DEFAULT_FACET_PRESET_STORAGE_CONFIG: FacetPresetStorageConfig = {\n  strategy: 'local',\n  keyPrefix: 'ngx-mat-facet-presets',\n  callbacks: {}\n};\n","import {DEFAULT_FACET_PRESET_STORAGE_CONFIG, FacetPresetStorageConfig} from './facet-preset-storage.model';\n\nexport enum FacetIdentifierStrategy {\n  WindowURL = 'windowURL',\n  ParentID = 'parentID',\n  Random = 'random',\n  Manual = 'manual'\n}\n\nexport type FacetStorageStrategy = 'session' | 'local' | 'none';\n\nexport interface FacetToolkitConfig {\n  allowDebugClick: boolean;\n  chipRowScrollable: boolean;\n  identifierStrategy: FacetIdentifierStrategy;\n  loggingCallback: (...args: any[]) => void;\n  presetStorage?: FacetPresetStorageConfig;\n  showFilterCount: boolean;\n  storage: FacetStorageStrategy;\n}\n\nexport const DEFAULT_FACET_TOOLKIT_CONFIG: FacetToolkitConfig = {\n  allowDebugClick: false,\n  chipRowScrollable: false,\n  identifierStrategy: FacetIdentifierStrategy.ParentID,\n  loggingCallback: () => {},\n  presetStorage: DEFAULT_FACET_PRESET_STORAGE_CONFIG,\n  showFilterCount: false,\n  storage: 'session'\n};\n","import {InjectionToken} from '@angular/core';\n\nexport const FACET_MODAL_DATA = new InjectionToken('facet.data');\n","import {FacetEditorState} from './facet-editor-state.model';\n\nexport enum FacetResultType {\n  REMOVE,\n  CANCEL,\n  ADD\n}\n\nexport interface FacetResult<T = FacetEditorState> {\n  type: FacetResultType;\n  data?: T;\n}\n","import {Directive, ElementRef, Input, OnInit} from '@angular/core';\n\n@Directive({\n  selector: '[focusOnShow]',\n  standalone: true\n})\nexport class FocusOnShowDirective implements OnInit {\n\n  @Input('focusOnShow') timeout = '0';\n  @Input() firstElement = true;\n\n  constructor(private el: ElementRef) {\n    if (!el.nativeElement.focus) {\n      throw new Error('Element does not accept focus.');\n    }\n  }\n\n  ngOnInit(): void {\n    if (this.firstElement) {\n      setTimeout(() => {\n        this.focusInput();\n      }, (Number(this.timeout) || 0));\n    }\n  }\n\n\n  private focusInput() {\n    const input = this.el.nativeElement as HTMLInputElement;\n\n    input.focus();\n\n\n    if (this.el.nativeElement.hasOwnProperty('select')) {\n      input.select();\n    }\n  }\n}\n","import {\n  ConnectedOverlayPositionChange,\n  FlexibleConnectedPositionStrategy,\n  GlobalPositionStrategy,\n  OverlayRef\n} from '@angular/cdk/overlay';\nimport {Observable, Subject} from 'rxjs';\nimport {filter} from 'rxjs/operators';\nimport {FacetModalConfig} from './facet-modal.config';\nimport {FacetEditorState} from '../models/facet-editor-state.model';\nimport {FacetResult, FacetResultType} from '../models/facet-result.model';\n\n\nexport class FacetModalRef<T = FacetEditorState> {\n  private afterClosedSubject = new Subject<FacetResult<T>>();\n  private beforeClosedSubject = new Subject<FacetResult<T>>();\n\n  private _result: FacetResult<T> = {type: FacetResultType.CANCEL};\n\n  constructor(private overlayRef: OverlayRef,\n              private positionStrategy: FlexibleConnectedPositionStrategy | GlobalPositionStrategy,\n              public config: FacetModalConfig) {\n    if (!config.disableClose) {\n      this.overlayRef.backdropClick().subscribe(() => {\n        this.close(this._result);\n      });\n\n      this.overlayRef.detachments().subscribe(() => {\n        this.beforeClosedSubject.next(this._result);\n        this.beforeClosedSubject.complete();\n      });\n\n      this.overlayRef.keydownEvents().pipe(\n        filter(event => event.key === 'Escape')\n      ).subscribe(() => {\n        this.close();\n      });\n    }\n  }\n\n  close(dialogResult?: FacetResult<T>): void {\n    if (!!dialogResult) {\n      this._result = dialogResult;\n    }\n\n    this.beforeClosedSubject.next(this._result);\n    this.beforeClosedSubject.complete();\n\n    this.afterClosedSubject.next(this._result);\n    this.afterClosedSubject.complete();\n\n    this.overlayRef.dispose();\n  }\n\n  afterClosed(): Observable<FacetResult<T>> {\n    return this.afterClosedSubject.asObservable();\n  }\n\n  beforeClosed(): Observable<FacetResult<T>> {\n    return this.beforeClosedSubject.asObservable();\n  }\n\n  positionChanges(): Observable<ConnectedOverlayPositionChange> | null {\n    if ('positionChanges' in this.positionStrategy) {\n      return this.positionStrategy.positionChanges;\n    }\n    return null;\n  }\n}\n","import {AfterViewInit, Component, ElementRef, Inject, OnInit, QueryList, ViewChildren} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatCheckboxModule} from '@angular/material/checkbox';\nimport {MatNativeDateModule, MatOptionModule} from '@angular/material/core';\nimport {MatDatepickerModule} from '@angular/material/datepicker';\nimport {MatDividerModule} from '@angular/material/divider';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatListModule} from '@angular/material/list';\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport {MatTooltipModule} from '@angular/material/tooltip';\nimport {debounceTime, tap} from 'rxjs/operators';\nimport {FacetDataType, FacetFilterType, FacetValue} from '../../models';\nimport {BehaviorSubject, Observable, of} from 'rxjs';\nimport {animate, style, transition, trigger} from '@angular/animations';\nimport {FacetModalRef} from '../facet-modal.ref';\nimport {FACET_MODAL_DATA} from '../facet-modal.data';\nimport {MatSelectionListChange} from '@angular/material/list';\nimport {FacetResultType} from '../../models/facet-result.model';\nimport {FacetEditorState} from '../../models/facet-editor-state.model';\nimport {FocusOnShowDirective} from '../../directives/focus-on-show.directive';\n\nconst MAX_TEXT_LENGTH = 60;\n\n@Component({\n  selector: 'ngx-mat-facet-details-modal',\n  templateUrl: './facet-details-modal.component.html',\n  styleUrls: ['./facet-details-modal.component.scss'],\n  standalone: true,\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatToolbarModule,\n    MatIconModule,\n    MatButtonModule,\n    MatTooltipModule,\n    MatProgressSpinnerModule,\n    MatDividerModule,\n    MatListModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatDatepickerModule,\n    MatNativeDateModule,\n    MatCheckboxModule,\n    MatSelectModule,\n    MatOptionModule,\n    FocusOnShowDirective\n  ],\n  animations: [\n    trigger('fadeIn', [\n      transition(':enter', [\n        style({opacity: '0', height: 0}),\n        animate('.2s ease-out', style({opacity: '1', height: '*'})),\n      ]),\n    ]),\n  ],\n})\nexport class FacetDetailsModalComponent implements OnInit, AfterViewInit {\n\n  @ViewChildren('typeAheadInput') typeAheadInputs: QueryList<ElementRef>;\n\n  public isUpdate: boolean;\n  public typeaheadText: string | null;\n  public clearButtonDisabled = true;\n  public resolvedOptions$: Observable<FacetValue[]> | undefined;\n\n  public FacetDataType = FacetDataType;\n  public FacetFilterType = FacetFilterType;\n\n  private typeAheadInputChanged = new BehaviorSubject<string>('');\n\n  constructor(@Inject(FACET_MODAL_DATA) public data: FacetEditorState, public modalRef: FacetModalRef) {\n    this.isUpdate = modalRef.config.isUpdate;\n  }\n\n  ngOnInit() {\n    switch (this.data.type) {\n      case FacetDataType.Typeahead:\n      case FacetDataType.TypeaheadSingle:\n        if (this.data.typeahead?.provider) {\n          this.resolvedOptions$ = this.data.typeahead.provider('');\n        }\n        break;\n\n      case FacetDataType.Date:\n        this.data.values = this.data.values?.length ? this.data.values : [{value: null}];\n        break;\n\n      case FacetDataType.DateRange:\n        this.data.values = this.data.values?.length ? this.data.values : [{value: null}, {value: null}];\n        break;\n\n      case FacetDataType.Boolean:\n        this.data.values = this.data.values?.length ? this.data.values : [{value: null}];\n        break;\n\n      case FacetDataType.Text:\n        this.data.values = this.data.values?.length ? this.data.values : [{value: ''}];\n        this.data.filterType = this.data.filterType || this.data.fixedFilterType || FacetFilterType.contains;\n        break;\n      case FacetDataType.Numeric:\n        this.data.values = this.data.values?.length ? this.data.values : [{value: null}];\n        this.data.filterType = this.data.filterType || this.data.fixedFilterType || FacetFilterType.equal;\n        this.ensureNumericValues(this.data.filterType);\n        break;\n\n      default:\n        this.data.values = this.data.values?.length ? this.data.values : [{value: null}];\n    }\n\n    if (!this.resolvedOptions$ && this.data.options) {\n      this.resolvedOptions$ = this.normalizeOptions(this.data.options);\n    }\n  }\n\n  ngAfterViewInit() {\n    if (this.typeAheadInputs.length > 0) {\n      this.typeAheadInputChanged.pipe(\n        tap(() => this.resolvedOptions$ = undefined),\n        debounceTime(this.data.typeahead?.debounce || 300),\n      ).subscribe(search => {\n        if (!!this.data.typeahead?.provider) {\n          this.data.typeahead.provider((search || '')).subscribe(options => {\n              this.resolvedOptions$ = of(options || []);\n            }\n          );\n        }\n      });\n    }\n  }\n\n  typeaheadValueChanged(event: string) {\n    this.typeAheadInputChanged.next(event || '');\n    this.clearButtonDisabled = (!event || event.length === 0);\n  }\n\n  truncateText(txt: string): string {\n    if (txt && txt.length) {\n      return txt.length > MAX_TEXT_LENGTH ?\n        `${txt.substring(0, MAX_TEXT_LENGTH).trim()}...` :\n        txt;\n\n    } else {\n      return txt;\n    }\n  }\n\n  onOk(): void {\n    this.modalRef.close({\n      type: FacetResultType.ADD,\n      data: this.data\n    });\n  }\n\n  onRemove(): void {\n    this.modalRef.close({\n      type: FacetResultType.REMOVE,\n      data: this.data\n    });\n  }\n\n  onCancel(): void {\n    this.modalRef.close({\n      type: FacetResultType.CANCEL,\n    });\n  }\n\n  onClose(): void {\n    this.modalRef.close();\n  }\n\n  validateAndSubmit() {\n    if (!this.isUpdateButtonDisabled()) {\n      this.onOk();\n    }\n  }\n\n  isItemSelected = (option: FacetValue): boolean => (this.data.values || []).some(o => o.value === option.value);\n\n  addOptionToSelected = (facet: FacetEditorState, option: FacetValue): void => {\n    const isSelected = (facet.values || []).some(f => f.value === option.value);\n\n    if (isSelected && (facet.type === FacetDataType.Category || facet.type === FacetDataType.Typeahead)) {\n      facet.values = (facet.values || []).filter(f => f.value !== option.value);\n    } else {\n      option.selected = true;\n      switch (facet.type) {\n        case FacetDataType.Category:\n        case FacetDataType.Typeahead:\n          facet.values = (facet.values || []);\n          facet.values.push(option);\n          break;\n        case FacetDataType.CategorySingle:\n        case FacetDataType.TypeaheadSingle:\n          facet.values = [option];\n          break;\n      }\n    }\n  };\n\n  isUpdateButtonDisabled = () => {\n    switch (this.data.type) {\n      case FacetDataType.Category:\n      case FacetDataType.CategorySingle:\n      case FacetDataType.Date:\n      case FacetDataType.Text:\n      case FacetDataType.Numeric:\n      case FacetDataType.Typeahead:\n      case FacetDataType.TypeaheadSingle:\n        if (this.data.type === FacetDataType.Numeric) {\n          const firstValue = this.getRawValue(this.data);\n          const secondValue = this.getRawValue(this.data, 1);\n          if (this.data.filterType === FacetFilterType.between) {\n            return firstValue === null || firstValue === undefined || secondValue === null || secondValue === undefined;\n          }\n          return firstValue === null || firstValue === undefined || firstValue === '';\n        }\n        return !(this.data.values || []).some(v => !!v?.value);\n      case FacetDataType.DateRange:\n        return !(this.getRawValue(this.data)) || !(this.getRawValue(this.data, 1));\n      case FacetDataType.Boolean:\n        return !(this.getRawValue(this.data));\n    }\n  };\n\n  emptyFunction() {}\n\n  clearInput() {\n    this.typeaheadText = null;\n    this.typeaheadValueChanged('');\n  }\n\n  getRawValue(facet: FacetEditorState, offset?: number): FacetValue['value'] | null {\n    if (!!facet?.values?.length && facet.values[offset || 0]) {\n      return facet.values[offset || 0].value;\n    }\n\n    return null;\n  }\n\n  setValue(facet: FacetEditorState, newValue: FacetValue['value'], offset?: number) {\n    if (!!facet?.values?.length && facet.values[offset || 0]) {\n      facet.values[offset || 0] = {\n        ...facet.values[offset || 0],\n        value: newValue\n      };\n    }\n  }\n\n  setType(newType: FacetFilterType) {\n    this.data.filterType = newType;\n    if (this.data.type === FacetDataType.Numeric) {\n      this.ensureNumericValues(newType);\n    }\n  }\n\n  private normalizeOptions(options: FacetValue[] | Observable<FacetValue[]>): Observable<FacetValue[]> {\n    return Array.isArray(options) ? of(options) : options;\n  }\n\n  private ensureNumericValues(filterType: FacetFilterType) {\n    const firstValue = this.getRawValue(this.data);\n    if (filterType === FacetFilterType.between) {\n      this.data.values = [\n        {value: firstValue ?? null},\n        {value: this.getRawValue(this.data, 1)}\n      ];\n      return;\n    }\n\n    this.data.values = [{value: firstValue ?? null}];\n  }\n\n  selectionChange(selection: MatSelectionListChange, facet: FacetEditorState, options?: FacetValue[]) {\n    selection.options\n      .map(selectedOption => (options || []).find(option => option.value === selectedOption.value))\n      .filter((option): option is FacetValue => !!option)\n      .filter(facetOption => !(facet.values || []).find(v => v.value === facetOption.value))\n      .forEach(selectedOption => this.addOptionToSelected(facet, selectedOption));\n  }\n}\n","<div class=\"mat-typography details\">\n\n  <mat-toolbar color=\"primary\" class=\"modal-header\">\n    <h2 class=\"modal-title\">{{data.label}}</h2>\n    <button class=\"modal-close\" mat-icon-button (click)=\"onCancel()\">\n      <mat-icon>clear</mat-icon>\n    </button>\n  </mat-toolbar>\n\n  <div class=\"content\">\n\n    @if (data.description) {\n      <p class=\"description\">{{data.description}}</p>\n    }\n\n    <ng-template #loading>\n      <mat-spinner diameter=\"20\"></mat-spinner>\n    </ng-template>\n\n    <ng-template #noResults>\n      <span class=\"facet-no-results\" @fadeIn>No Results</span>\n    </ng-template>\n\n    @switch (true) {\n      @case (data.type === FacetDataType.Category || data.type === FacetDataType.CategorySingle) {\n        <div class=\"category-wrapper\">\n          @if (resolvedOptions$ | async; as options) {\n            <mat-divider></mat-divider>\n            @if (options.length > 0) {\n              <mat-selection-list (selectionChange)=\"selectionChange($event, data, options)\"\n                                  (keydown.enter)=\"validateAndSubmit()\">\n                @for (item of options; track item.value) {\n                  <mat-list-option [value]=\"item.value\" [selected]=\"isItemSelected(item)\"\n                                   @fadeIn\n                                   focusOnShow\n                                   [firstElement]=\"$first\">\n                    <span>\n                      {{ item.label ? truncateText(item.label) : \"- empty -\" }}\n                      @if (item.count) {\n                        <small><i>({{item.count}})</i></small>\n                      }\n                    </span>\n                  </mat-list-option>\n                }\n              </mat-selection-list>\n            } @else {\n              <ng-container *ngTemplateOutlet=\"noResults\"></ng-container>\n            }\n            <mat-divider></mat-divider>\n          } @else {\n            <ng-container *ngTemplateOutlet=\"loading\"></ng-container>\n          }\n        </div>\n      }\n      @case (data.type === FacetDataType.Typeahead || data.type === FacetDataType.TypeaheadSingle) {\n        <div class=\"typeahead-wrapper\">\n\n          <mat-form-field class=\"typeahead-form-field\" appearance=\"outline\" floatLabel=\"auto\">\n            <mat-label>Search...</mat-label>\n            <input matInput #typeAheadInput\n                   autocomplete=\"off\"\n                   focusOnShow=\"100\"\n                   [(ngModel)]=\"typeaheadText\"\n                   placeholder=\"{{(data.typeahead || {placeholder: ''}).placeholder}}\"\n                   (ngModelChange)=\"typeaheadValueChanged($event)\"\n                   (keydown.enter)=\"validateAndSubmit()\"/>\n\n            @if (!clearButtonDisabled) {\n              <button matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"clearInput()\">\n                <mat-icon>clear</mat-icon>\n              </button>\n            }\n          </mat-form-field>\n\n          @if (resolvedOptions$ | async; as options) {\n            <mat-divider></mat-divider>\n            @if (options.length > 0) {\n              <mat-selection-list (selectionChange)=\"selectionChange($event, data, options)\"\n                                  (keydown.enter)=\"validateAndSubmit()\">\n                @for (item of options; track item.value) {\n                  <mat-list-option [value]=\"item.value\"\n                                   @fadeIn\n                                   focusOnShow\n                                   [firstElement]=\"$first\"\n                                   [selected]=\"isItemSelected(item)\">\n                    <span>\n                      {{ item.label ? truncateText(item.label) : \"- empty -\" }}\n                      @if (item.count) {\n                        <small><i>({{item.count}})</i></small>\n                      }\n                    </span>\n                  </mat-list-option>\n                }\n              </mat-selection-list>\n            } @else {\n              <ng-container *ngTemplateOutlet=\"noResults\"></ng-container>\n            }\n            <mat-divider></mat-divider>\n          } @else {\n            <ng-container *ngTemplateOutlet=\"loading\"></ng-container>\n          }\n\n        </div>\n      }\n      @case (data.type === FacetDataType.Date) {\n        <div class=\"date-wrapper\">\n\n          <mat-form-field appearance=\"outline\" floatLabel=\"always\" class=\"date-field\">\n            <mat-label>{{data.label}}</mat-label>\n            <input matInput autocomplete=\"off\" focusOnShow=\"100\" [matDatepicker]=\"picker\" [ngModel]=\"getRawValue(data)\" (ngModelChange)=\"setValue(data, $event)\"\n                   placeholder=\"Choose a date\" (focus)=\"isUpdate ? emptyFunction() : picker.open()\"\n                   (keydown.enter)=\"validateAndSubmit()\"/>\n            <mat-datepicker-toggle matSuffix [for]=\"picker\" (click)=\"picker.open()\"></mat-datepicker-toggle>\n          </mat-form-field>\n          <mat-datepicker #picker></mat-datepicker>\n\n        </div>\n      }\n      @case (data.type === FacetDataType.DateRange) {\n        <div class=\"date-range-wrapper\">\n\n          <mat-form-field appearance=\"outline\" floatLabel=\"always\">\n            <mat-label>{{data.label}} - Start</mat-label>\n            <input matInput focusOnShow=\"100\" autocomplete=\"off\" [matDatepicker]=\"startDatePicker\"\n                   [ngModel]=\"getRawValue(data)\" (ngModelChange)=\"setValue(data, $event)\" placeholder=\"Choose a starting date\"\n                   (focus)=\"isUpdate ? emptyFunction() : startDatePicker.open()\"\n                   (keydown.enter)=\"validateAndSubmit()\"/>\n            <mat-datepicker-toggle matSuffix [for]=\"startDatePicker\" (click)=\"startDatePicker.open()\"></mat-datepicker-toggle>\n          </mat-form-field>\n          <mat-datepicker #startDatePicker></mat-datepicker>\n\n          <mat-form-field appearance=\"outline\" floatLabel=\"always\">\n            <mat-label>{{data.label}} - End</mat-label>\n            <input matInput autocomplete=\"off\" [matDatepicker]=\"endDatePicker\"\n                   [ngModel]=\"getRawValue(data, 1)\" (ngModelChange)=\"setValue(data, $event, 1)\" placeholder=\"Choose an end date\"\n                   (keydown.enter)=\"validateAndSubmit()\"/>\n            <mat-datepicker-toggle matSuffix [for]=\"endDatePicker\" (click)=\"endDatePicker.open()\"></mat-datepicker-toggle>\n          </mat-form-field>\n          <mat-datepicker #endDatePicker></mat-datepicker>\n\n        </div>\n      }\n      @case (data.type === FacetDataType.Text) {\n        <div class=\"text-wrapper\">\n\n          <mat-form-field class=\"criteria-field\" appearance=\"outline\">\n            <mat-label>Criteria Type</mat-label>\n            <mat-select [value]=\"data.fixedFilterType || data.filterType\"\n                        (valueChange)=\"setType($event)\" placeholder=\"Criteria Type\">\n              <mat-option [value]=\"FacetFilterType.contains\">Contains</mat-option>\n              <mat-option [value]=\"FacetFilterType.endsWith\">Ends With</mat-option>\n              <mat-option [value]=\"FacetFilterType.equal\">Equals</mat-option>\n              <mat-option [value]=\"FacetFilterType.startsWith\">Starts With</mat-option>\n            </mat-select>\n          </mat-form-field>\n\n          <mat-form-field class=\"search-field\" appearance=\"outline\">\n            <mat-label>Search Text</mat-label>\n            <input matInput focusOnShow (keydown.enter)=\"validateAndSubmit()\" autocomplete=\"off\"\n                   [ngModel]=\"getRawValue(data)\" (ngModelChange)=\"setValue(data, $event)\"\n                   placeholder=\"{{data.placeholder || data.label }}\" autofocus/>\n            @if (data.values) {\n              <button matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"data.values = []\">\n                <mat-icon>close</mat-icon>\n              </button>\n            }\n          </mat-form-field>\n\n        </div>\n      }\n      @case (data.type === FacetDataType.Numeric) {\n        <div class=\"numeric-wrapper\">\n\n          <mat-form-field class=\"criteria-field\" appearance=\"outline\">\n            <mat-label>Criteria Type</mat-label>\n            <mat-select [value]=\"data.fixedFilterType || data.filterType\"\n                        (valueChange)=\"setType($event)\" placeholder=\"Criteria Type\">\n              <mat-option [value]=\"FacetFilterType.equal\">Equals</mat-option>\n              <mat-option [value]=\"FacetFilterType.greaterThan\">Greater Than</mat-option>\n              <mat-option [value]=\"FacetFilterType.greaterThanOrEqual\">Greater Than Or Equal</mat-option>\n              <mat-option [value]=\"FacetFilterType.lessThan\">Less Than</mat-option>\n              <mat-option [value]=\"FacetFilterType.lessThanOrEqual\">Less Than Or Equal</mat-option>\n              <mat-option [value]=\"FacetFilterType.between\">Between</mat-option>\n            </mat-select>\n          </mat-form-field>\n\n          @if (data.filterType === FacetFilterType.between) {\n            <mat-form-field class=\"search-field\" appearance=\"outline\">\n              <mat-label>Minimum</mat-label>\n              <input matInput type=\"number\" focusOnShow autocomplete=\"off\"\n                     [ngModel]=\"getRawValue(data)\" (ngModelChange)=\"setValue(data, $event)\"\n                     placeholder=\"{{data.placeholder || data.label }}\"\n                     (keydown.enter)=\"validateAndSubmit()\"/>\n            </mat-form-field>\n\n            <mat-form-field class=\"search-field\" appearance=\"outline\">\n              <mat-label>Maximum</mat-label>\n              <input matInput type=\"number\" autocomplete=\"off\"\n                     [ngModel]=\"getRawValue(data, 1)\" (ngModelChange)=\"setValue(data, $event, 1)\"\n                     placeholder=\"{{data.placeholder || data.label }}\"\n                     (keydown.enter)=\"validateAndSubmit()\"/>\n            </mat-form-field>\n          } @else {\n            <mat-form-field class=\"search-field\" appearance=\"outline\">\n              <mat-label>Value</mat-label>\n              <input matInput type=\"number\" focusOnShow autocomplete=\"off\"\n                     [ngModel]=\"getRawValue(data)\" (ngModelChange)=\"setValue(data, $event)\"\n                     placeholder=\"{{data.placeholder || data.label }}\"\n                     (keydown.enter)=\"validateAndSubmit()\"/>\n            </mat-form-field>\n          }\n\n        </div>\n      }\n      @case (data.type === FacetDataType.Boolean) {\n        <div class=\"boolean-wrapper\">\n          <mat-checkbox [ngModel]=\"getRawValue(data)\" (ngModelChange)=\"setValue(data, $event)\"\n                        (keydown.enter)=\"validateAndSubmit()\">{{data.placeholder || data.label}}</mat-checkbox>\n        </div>\n      }\n    }\n\n  </div>\n\n  <div class=\"actions\">\n\n    <button mat-flat-button class=\"add-update-button\" [color]=\"isUpdate ? 'accent' : 'primary'\" (click)=\"onOk()\"\n            [disabled]=\"isUpdateButtonDisabled()\">{{isUpdate ? 'Update' : 'Add'}}</button>\n\n    @if (isUpdate) {\n      <button mat-icon-button class=\"remove-button\" color=\"warn\" (click)=\"onRemove()\" matTooltip=\"Delete Filter\" matTooltipPosition=\"after\">\n        <mat-icon>delete</mat-icon>\n      </button>\n    }\n\n  </div>\n</div>\n","export interface FacetModalConfig<T = any> {\n  backdropClass: string;\n  data?: T;\n  disableClose: boolean;\n  hasBackdrop?: boolean;\n  panelClass: string | string[];\n  centered?: boolean;\n  offsetX?: number;\n  offsetY?: number;\n  isUpdate: boolean;\n  width?: string;\n}\n\n\nexport const DefaultFacetModalConfig: FacetModalConfig = {\n  backdropClass: '',\n  disableClose: false,\n  hasBackdrop: true,\n  panelClass: '',\n  isUpdate: false,\n};\n","import {\n  animate,\n  state,\n  style,\n  transition,\n  trigger,\n  AnimationTriggerMetadata,\n} from '@angular/animations';\n\nexport const facetModalAnimations: {\n  readonly modalContainer: AnimationTriggerMetadata;\n} = {\n  modalContainer: trigger('modalContainer', [\n    state('void, exit', style({opacity: 0, transform: 'scale(0.7)'})),\n    state('enter', style({transform: 'none'})),\n    transition('* => enter', animate('150ms cubic-bezier(0, 0, 0.2, 1)',\n      style({transform: 'none', opacity: 1}))),\n    transition('* => void, * => exit',\n      animate('75ms cubic-bezier(0.4, 0.0, 0.2, 1)', style({opacity: 0}))),\n  ])\n};\n","import {Component, ComponentRef, ViewChild, EventEmitter, HostBinding, HostListener, EmbeddedViewRef} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {BasePortalOutlet, CdkPortalOutlet, ComponentPortal, TemplatePortal, PortalModule} from '@angular/cdk/portal';\nimport {AnimationEvent} from '@angular/animations';\nimport {facetModalAnimations} from './facet-modal.animations';\nimport {FacetModalRef} from '../facet-modal.ref';\n\ninterface FacetModalAnimationEvent {\n  state: 'opened' | 'opening' | 'closing' | 'closed';\n  totalTime: number;\n}\n\n@Component({\n  selector: 'ngx-facet-modal',\n  templateUrl: './facet-modal.component.html',\n  styleUrls: ['./facet-modal.component.scss'],\n  standalone: true,\n  imports: [CommonModule, PortalModule],\n  animations: [facetModalAnimations.modalContainer],\n})\nexport class FacetModalComponent extends BasePortalOutlet {\n  @ViewChild(CdkPortalOutlet, {static: true}) portalOutlet: CdkPortalOutlet;\n  @HostBinding('class') hostClass = 'facet-modal-component';\n\n  constructor(public modalRef: FacetModalRef) {\n    super();\n  }\n\n  state: 'void' | 'enter' | 'exit' = 'enter';\n  animationStateChanged = new EventEmitter<FacetModalAnimationEvent>();\n\n  @HostBinding('@modalContainer') get animationState(): string {\n    return this.state;\n  }\n\n  @HostListener('@modalContainer.done', ['$event']) _onAnimationDone({toState, totalTime}: AnimationEvent) {\n    if (toState === 'enter') {\n      this.animationStateChanged.next({state: 'opened', totalTime});\n    } else if (toState === 'exit') {\n      this.animationStateChanged.next({state: 'closed', totalTime});\n    }\n  }\n\n  @HostListener('@modalContainer.start', ['$event']) _onAnimationStart({toState, totalTime}: AnimationEvent) {\n    if (toState === 'enter') {\n      this.animationStateChanged.next({state: 'opening', totalTime});\n    } else if (toState === 'exit' || toState === 'void') {\n      this.animationStateChanged.next({state: 'closing', totalTime});\n    }\n  }\n\n  attachComponentPortal<T>(componentPortal: ComponentPortal<any>): ComponentRef<T> {\n    return this.portalOutlet.attachComponentPortal(componentPortal);\n  }\n\n  attachTemplatePortal<C>(portal: TemplatePortal<C>): EmbeddedViewRef<C> {\n    throw new Error('Method not implemented.');\n  }\n\n  _startExitAnimation(): void {\n    this.state = 'exit';\n  }\n}\n","<ng-template cdkPortalOutlet></ng-template>\n@if (!modalRef.config.centered) {\n  <div class=\"arrow\"></div>\n}\n","import {ComponentType, Overlay} from '@angular/cdk/overlay';\nimport {ComponentPortal} from '@angular/cdk/portal';\nimport {Injectable, ElementRef, Injector} from '@angular/core';\nimport {DefaultFacetModalConfig, FacetModalConfig} from './facet-modal.config';\nimport {FacetModalRef} from './facet-modal.ref';\nimport {FacetModalComponent} from './facet-modal/facet-modal.component';\nimport {FACET_MODAL_DATA} from './facet-modal.data';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FacetModalService {\n\n  constructor(private overlay: Overlay,\n              private injector: Injector) {\n  }\n\n  open<T = unknown>(component: ComponentType<any>,\n       target: ElementRef | HTMLElement,\n       config: Partial<FacetModalConfig> = {}): FacetModalRef<T> {\n\n    const facetModalConfig: FacetModalConfig = Object.assign({}, DefaultFacetModalConfig, config);\n\n    const offsetY = facetModalConfig.offsetY || 0;\n    const offsetX = facetModalConfig.offsetX || 0;\n\n    const positionStrategy = facetModalConfig.centered\n      ? this.overlay.position().global().centerHorizontally().centerVertically()\n      : this.overlay\n        .position()\n        .flexibleConnectedTo(target)\n        .withPush(false)\n        .withFlexibleDimensions(true)\n        .withPositions([\n          {\n            overlayX: 'start',\n            overlayY: 'top',\n            originX: 'start',\n            originY: 'center',\n            offsetX,\n            offsetY,\n          },\n        ]);\n\n    const overlayRef = this.overlay.create({\n      hasBackdrop: facetModalConfig.hasBackdrop ?? true,\n      backdropClass: facetModalConfig.backdropClass,\n      panelClass: facetModalConfig.panelClass,\n      positionStrategy,\n      scrollStrategy: this.overlay.scrollStrategies.block()\n    });\n\n    if (facetModalConfig.width) {\n      overlayRef.updateSize({width: facetModalConfig.width});\n    }\n\n\n    const modalRef = new FacetModalRef<T>(overlayRef, positionStrategy, facetModalConfig);\n\n    const injector = Injector.create({\n      providers: [\n        {\n          provide: FACET_MODAL_DATA,\n          useValue: config.data\n        },\n        {\n          provide: FacetModalRef,\n          useValue: modalRef\n        },\n      ],\n      parent: this.injector\n    });\n\n    const modal = overlayRef.attach(new ComponentPortal(FacetModalComponent, null, injector)).instance;\n    modal.attachComponentPortal(new ComponentPortal<any>(component, null, injector));\n\n    return modalRef;\n  }\n}\n","import {Component, Inject} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport {FacetModalRef} from '../facet-modal.ref';\nimport {FACET_MODAL_DATA} from '../facet-modal.data';\nimport {FacetResultType} from '../../models/facet-result.model';\n\nexport interface PresetDeleteModalData {\n  name: string;\n}\n\n@Component({\n  selector: 'ngx-mat-facet-preset-delete-modal',\n  templateUrl: './preset-delete-modal.component.html',\n  styleUrls: ['./preset-delete-modal.component.scss'],\n  standalone: true,\n  imports: [\n    CommonModule,\n    MatToolbarModule,\n    MatIconModule,\n    MatButtonModule\n  ]\n})\nexport class PresetDeleteModalComponent {\n  constructor(\n    @Inject(FACET_MODAL_DATA) public data: PresetDeleteModalData,\n    public modalRef: FacetModalRef<boolean>\n  ) {}\n\n  close(): void {\n    this.modalRef.close({type: FacetResultType.CANCEL});\n  }\n\n  confirm(): void {\n    this.modalRef.close({type: FacetResultType.ADD, data: true});\n  }\n}\n","<div class=\"preset-delete-modal\">\n  <mat-toolbar>\n    <span>Delete preset</span>\n    <span class=\"spacer\"></span>\n    <button mat-icon-button (click)=\"close()\" aria-label=\"Close delete preset dialog\">\n      <mat-icon>close</mat-icon>\n    </button>\n  </mat-toolbar>\n\n  <div class=\"content\">\n    <p>Delete the preset \"{{data.name}}\"?</p>\n    <p class=\"warning\">This action cannot be undone.</p>\n  </div>\n\n  <div class=\"actions\">\n    <button mat-stroked-button (click)=\"close()\">Cancel</button>\n    <button mat-flat-button color=\"warn\" (click)=\"confirm()\">Delete</button>\n  </div>\n</div>\n","import {Component, ElementRef, Inject} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatMenuModule} from '@angular/material/menu';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport {FacetModalRef} from '../facet-modal.ref';\nimport {FACET_MODAL_DATA} from '../facet-modal.data';\nimport {FacetPreset} from '../../models';\nimport {FacetResultType} from '../../models/facet-result.model';\nimport {FacetModalService} from '../facet-modal.service';\nimport {PresetDeleteModalComponent} from '../preset-delete-modal/preset-delete-modal.component';\n\nexport interface PresetManagerModalData {\n  presets: FacetPreset[];\n  onLoad: (preset: FacetPreset) => void;\n  onRename: (preset: FacetPreset, name: string) => void;\n  onDelete: (preset: FacetPreset) => void;\n}\n\n@Component({\n  selector: 'ngx-mat-facet-preset-manager-modal',\n  templateUrl: './preset-manager-modal.component.html',\n  styleUrls: ['./preset-manager-modal.component.scss'],\n  standalone: true,\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatToolbarModule,\n    MatIconModule,\n    MatButtonModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatMenuModule\n  ]\n})\nexport class PresetManagerModalComponent {\n  filterText = '';\n  editingPresetId: string | null = null;\n  editingName = '';\n  presets: FacetPreset[] = [];\n\n  constructor(\n    @Inject(FACET_MODAL_DATA) public data: PresetManagerModalData,\n    public modalRef: FacetModalRef,\n    private modalService: FacetModalService,\n    private elementRef: ElementRef<HTMLElement>\n  ) {\n    this.presets = [...(data.presets || [])];\n  }\n\n  get filteredPresets(): FacetPreset[] {\n    const text = (this.filterText || '').trim().toLowerCase();\n    if (!text) {\n      return this.presets;\n    }\n    return this.presets.filter(preset => preset.name.toLowerCase().includes(text));\n  }\n\n  close(): void {\n    this.modalRef.close({type: FacetResultType.CANCEL});\n  }\n\n  loadPreset(preset: FacetPreset): void {\n    this.data.onLoad(preset);\n    this.modalRef.close({type: FacetResultType.CANCEL});\n  }\n\n  startRename(preset: FacetPreset): void {\n    this.editingPresetId = preset.id;\n    this.editingName = preset.name;\n  }\n\n  confirmRename(preset: FacetPreset): void {\n    const trimmed = (this.editingName || '').trim();\n    if (!trimmed) {\n      return;\n    }\n    this.data.onRename(preset, trimmed);\n    this.presets = this.presets.map(item =>\n      item.id === preset.id ? {...item, name: trimmed, updatedAt: new Date().toISOString()} : item\n    );\n    this.editingPresetId = null;\n    this.editingName = '';\n  }\n\n  cancelRename(): void {\n    this.editingPresetId = null;\n    this.editingName = '';\n  }\n\n  deletePreset(preset: FacetPreset): void {\n    const modalRef = this.modalService.open<boolean>(PresetDeleteModalComponent, this.elementRef.nativeElement, {\n      centered: true,\n      data: {name: preset.name},\n      width: '320px'\n    });\n\n    modalRef.afterClosed().subscribe(result => {\n      if (result.type !== FacetResultType.ADD) {\n        return;\n      }\n      this.data.onDelete(preset);\n      this.presets = this.presets.filter(item => item.id !== preset.id);\n    });\n  }\n}\n","<div class=\"preset-manager-modal\">\n  <mat-toolbar>\n    <span>Manage Presets</span>\n    <span class=\"spacer\"></span>\n    <button mat-icon-button (click)=\"close()\" aria-label=\"Close preset manager\">\n      <mat-icon>close</mat-icon>\n    </button>\n  </mat-toolbar>\n\n  <div class=\"search-row\">\n    <mat-form-field appearance=\"outline\">\n      <mat-label>Search presets</mat-label>\n      <input matInput [(ngModel)]=\"filterText\">\n      <button matSuffix mat-icon-button aria-label=\"Clear search\" *ngIf=\"filterText\" (click)=\"filterText = ''\">\n        <mat-icon>close</mat-icon>\n      </button>\n    </mat-form-field>\n  </div>\n\n  <div class=\"preset-list\">\n    @if (filteredPresets.length === 0) {\n      <div class=\"empty-state\">No presets found.</div>\n    }\n\n    @for (preset of filteredPresets; track preset.id) {\n      <div class=\"preset-row\">\n        <div class=\"preset-info\">\n          <div class=\"preset-name\">{{preset.name}}</div>\n          <div class=\"preset-meta\">{{preset.selections.length}} filters</div>\n        </div>\n        <div class=\"preset-actions\">\n          <button mat-icon-button [matMenuTriggerFor]=\"presetMenu\" aria-label=\"Preset actions\">\n            <mat-icon>more_vert</mat-icon>\n          </button>\n          <mat-menu #presetMenu=\"matMenu\">\n            <button mat-menu-item (click)=\"loadPreset(preset)\">\n              <mat-icon>upload</mat-icon>\n              <span>Load</span>\n            </button>\n            <button mat-menu-item (click)=\"startRename(preset)\">\n              <mat-icon>edit</mat-icon>\n              <span>Rename</span>\n            </button>\n            <button mat-menu-item (click)=\"deletePreset(preset)\">\n              <mat-icon>delete</mat-icon>\n              <span>Delete</span>\n            </button>\n          </mat-menu>\n        </div>\n      </div>\n\n      @if (editingPresetId === preset.id) {\n        <div class=\"rename-row\">\n          <mat-form-field appearance=\"outline\">\n            <mat-label>Preset name</mat-label>\n            <input matInput [(ngModel)]=\"editingName\" (keydown.enter)=\"confirmRename(preset)\">\n          </mat-form-field>\n          <button mat-icon-button (click)=\"confirmRename(preset)\" [disabled]=\"!editingName.trim()\" aria-label=\"Confirm rename\">\n            <mat-icon>check</mat-icon>\n          </button>\n          <button mat-icon-button (click)=\"cancelRename()\" aria-label=\"Cancel rename\">\n            <mat-icon>close</mat-icon>\n          </button>\n        </div>\n      }\n    }\n  </div>\n</div>\n","import {Component, Inject} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport {FacetResultType} from '../../models/facet-result.model';\nimport {FacetModalRef} from '../facet-modal.ref';\nimport {FACET_MODAL_DATA} from '../facet-modal.data';\nimport {FocusOnShowDirective} from '../../directives/focus-on-show.directive';\n\nexport interface PresetNameModalData {\n  title: string;\n  confirmLabel?: string;\n  initialName?: string;\n  placeholder?: string;\n}\n\n@Component({\n  selector: 'ngx-mat-facet-preset-name-modal',\n  templateUrl: './preset-name-modal.component.html',\n  styleUrls: ['./preset-name-modal.component.scss'],\n  standalone: true,\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatToolbarModule,\n    MatIconModule,\n    MatButtonModule,\n    MatFormFieldModule,\n    MatInputModule,\n    FocusOnShowDirective\n  ]\n})\nexport class PresetNameModalComponent {\n  name = '';\n\n  constructor(\n    @Inject(FACET_MODAL_DATA) public data: PresetNameModalData,\n    public modalRef: FacetModalRef<string>\n  ) {\n    this.name = (data.initialName || '').trim();\n  }\n\n  close(): void {\n    this.modalRef.close({type: FacetResultType.CANCEL});\n  }\n\n  save(): void {\n    const trimmed = (this.name || '').trim();\n    if (!trimmed) {\n      return;\n    }\n    this.modalRef.close({type: FacetResultType.ADD, data: trimmed});\n  }\n}\n","<div class=\"preset-name-modal\">\n  <mat-toolbar>\n    <span>{{data.title}}</span>\n    <span class=\"spacer\"></span>\n    <button mat-icon-button (click)=\"close()\" aria-label=\"Close preset name dialog\">\n      <mat-icon>close</mat-icon>\n    </button>\n  </mat-toolbar>\n\n  <div class=\"content\">\n    <mat-form-field appearance=\"outline\">\n      <mat-label>{{data.placeholder || 'Preset name'}}</mat-label>\n      <input matInput [(ngModel)]=\"name\" (keydown.enter)=\"save()\" focusOnShow>\n    </mat-form-field>\n  </div>\n\n  <div class=\"actions\">\n    <button mat-stroked-button (click)=\"close()\">Cancel</button>\n    <button mat-flat-button color=\"primary\" [disabled]=\"!name.trim()\" (click)=\"save()\">\n      {{data.confirmLabel || 'Save'}}\n    </button>\n  </div>\n</div>\n","import {Injector} from '@angular/core';\n\ninterface RawVCRefInjector {\n  _lView: any[];\n}\n\nexport class VCRefInjector {\n  private readonly raw: RawVCRefInjector;\n\n  constructor(injector: Injector) {\n    this.raw = injector as unknown as RawVCRefInjector;\n  }\n\n  get parentIdentifier(): string | null {\n    const parent = this.parent;\n    if (!!parent) {\n      return parent.tagName.toLowerCase();\n    }\n\n    return null;\n  }\n\n  get parent(): HTMLElement | null {\n    if (!!this.raw && this.raw._lView && this.raw._lView.length > 0) {\n      return this.raw._lView[0];\n    }\n\n    return null;\n  }\n}\n","import {animate, state, style, transition, trigger} from '@angular/animations';\n\nexport const chipAnimation = [\n  trigger('chipAnimation', [\n    state('in', style({\n        transform: 'translateX(0)',\n        opacity: 0,\n        position: 'absolute'\n      })\n    ),\n    transition('void => *', [\n      style({\n        transform: 'translateX(-100%)',\n        opacity: 1,\n        position: '*'\n      }),\n      animate('200ms ease-out')\n    ]),\n    transition('* => void', [\n      style({\n        position: 'absolute'\n      }),\n      animate('200ms ease-in', style({\n        transform: 'translateX(-100%)',\n        opacity: 0\n      }))\n    ])\n  ])\n]\n","import {Injectable} from '@angular/core';\nimport {FacetSelection, FacetStorageStrategy} from '../models';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FacetStorageService {\n\n\n  private storageStrategy: FacetStorageStrategy = 'session';\n\n  /**\n   * Update the loggingCallback function\n   */\n  updateLoggingCallback(loggingCallback: (...args: any[]) => void) {\n    this.loggingCallback = loggingCallback;\n  }\n\n  /**\n   * Saves the selected facets to localStorage for our current identifier\n   */\n  updateSavedFacets(identifier: string | null, selectedFacets: FacetSelection[]) {\n    if (!identifier) {\n      this.loggingCallback(`Cannot update ${this.mode}, no ID set`);\n      return;\n    }\n\n    if (this.storageStrategy === 'none') {\n      return;\n    }\n\n    this.loggingCallback(`Saving facets in ${this.mode} for component with ID`, identifier);\n    this.storageBackend?.setItem(identifier, JSON.stringify(selectedFacets));\n  }\n\n\n  /**\n   * Clears previously saved facets for this specific component\n   */\n  clearStorage(identifier: string | null) {\n    if (!identifier) {\n      return;\n    }\n\n    if (this.storageStrategy === 'none') {\n      return;\n    }\n\n    this.loggingCallback(`Clearing ${this.mode} for ID`, identifier);\n    this.storageBackend?.removeItem(identifier);\n  }\n\n  /**\n   * Loads facets from storage for our current identifier\n   */\n  loadFacetsFromStorage(identifier: string | null): FacetSelection[] {\n    let sessionFacets = [];\n\n    if (this.storageStrategy === 'none') {\n      return [];\n    }\n\n    if (!!identifier && !this.checkStorage(identifier)) {\n      sessionFacets = JSON.parse(this.storageBackend?.getItem(identifier) || '[]');\n\n      sessionFacets = (sessionFacets || []);\n\n      this.loggingCallback('Loaded facets for component with ID', identifier, sessionFacets);\n    } else if (!identifier) {\n      this.loggingCallback('No identifier set on this component');\n    } else if (this.checkStorage(identifier)) {\n      this.loggingCallback(\n        `No ${this.mode} variable set for component with ID`,\n        identifier,\n        localStorage.getItem(identifier)\n      );\n    }\n\n    return sessionFacets;\n  }\n\n  private loggingCallback: (...args: any[]) => void = () => {\n  };\n\n  updateStorageStrategy(strategy: FacetStorageStrategy) {\n    this.storageStrategy = strategy;\n  }\n\n  private get mode(): 'localStorage' | 'sessionStorage' | 'none' {\n    if (this.storageStrategy === 'none') {\n      return 'none';\n    }\n    return (this.storageStrategy === 'local' ? 'localStorage' : 'sessionStorage');\n  }\n\n  private checkStorage(key: string): boolean {\n    return !this.storageBackend?.getItem(key);\n  }\n\n  private get storageBackend(): Storage | null {\n    if (this.storageStrategy === 'none') {\n      return null;\n    }\n    return this.storageStrategy === 'local' ? localStorage : sessionStorage;\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {\n  DEFAULT_FACET_PRESET_STORAGE_CONFIG,\n  FacetPreset,\n  FacetPresetStorageCallbacks,\n  FacetPresetStorageConfig,\n  FacetPresetStorageStrategy\n} from '../models';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FacetPresetStorageService {\n  private loggingCallback: (...args: any[]) => void = () => {};\n  private storageStrategy: FacetPresetStorageStrategy = DEFAULT_FACET_PRESET_STORAGE_CONFIG.strategy || 'local';\n  private keyPrefix = DEFAULT_FACET_PRESET_STORAGE_CONFIG.keyPrefix || 'ngx-mat-facet-presets';\n  private callbacks: FacetPresetStorageCallbacks = DEFAULT_FACET_PRESET_STORAGE_CONFIG.callbacks || {};\n\n  updateLoggingCallback(loggingCallback: (...args: any[]) => void) {\n    this.loggingCallback = loggingCallback;\n  }\n\n  updateStorageStrategy(strategy: FacetPresetStorageStrategy) {\n    this.storageStrategy = strategy;\n  }\n\n  updateStorageKeyPrefix(prefix: string) {\n    if (!prefix) {\n      return;\n    }\n    this.keyPrefix = prefix;\n  }\n\n  updateStorageCallbacks(callbacks: FacetPresetStorageCallbacks) {\n    this.callbacks = callbacks || {};\n  }\n\n  updateStorageConfig(config: FacetPresetStorageConfig | null | undefined) {\n    if (!config) {\n      return;\n    }\n    if (config.strategy) {\n      this.storageStrategy = config.strategy;\n    }\n    if (config.keyPrefix) {\n      this.keyPrefix = config.keyPrefix;\n    }\n    if (config.callbacks) {\n      this.callbacks = config.callbacks;\n    }\n  }\n\n  loadPresets(identifier: string | null): FacetPreset[] {\n    if (!identifier) {\n      this.loggingCallback('Cannot load presets, no ID set');\n      return [];\n    }\n\n    if (this.callbacks.loadPresets) {\n      return this.callbacks.loadPresets(identifier) || [];\n    }\n\n    if (this.storageStrategy === 'none') {\n      return [];\n    }\n\n    const stored = this.storageBackend?.getItem(this.getStorageKey(identifier));\n    if (!stored) {\n      return [];\n    }\n\n    try {\n      const parsed = JSON.parse(stored) as FacetPreset[];\n      if (!Array.isArray(parsed)) {\n        return [];\n      }\n      return parsed;\n    } catch {\n      this.loggingCallback('Failed to parse preset storage for ID', identifier);\n      return [];\n    }\n  }\n\n  savePresets(identifier: string | null, presets: FacetPreset[]) {\n    if (!identifier) {\n      this.loggingCallback('Cannot save presets, no ID set');\n      return;\n    }\n\n    if (this.callbacks.savePresets) {\n      this.callbacks.savePresets(identifier, presets || []);\n      return;\n    }\n\n    if (this.storageStrategy === 'none') {\n      return;\n    }\n\n    this.storageBackend?.setItem(this.getStorageKey(identifier), JSON.stringify(presets || []));\n  }\n\n  clearPresets(identifier: string | null) {\n    if (!identifier) {\n      this.loggingCallback('Cannot clear presets, no ID set');\n      return;\n    }\n\n    if (this.callbacks.clearPresets) {\n      this.callbacks.clearPresets(identifier);\n      return;\n    }\n\n    if (this.storageStrategy === 'none') {\n      return;\n    }\n\n    this.storageBackend?.removeItem(this.getStorageKey(identifier));\n  }\n\n  private getStorageKey(identifier: string): string {\n    return `${this.keyPrefix}:${identifier}`;\n  }\n\n  private get storageBackend(): Storage | null {\n    if (this.storageStrategy === 'none') {\n      return null;\n    }\n    return this.storageStrategy === 'local' ? localStorage : sessionStorage;\n  }\n}\n","import {InjectionToken, makeEnvironmentProviders} from '@angular/core';\nimport {provideNativeDateAdapter} from '@angular/material/core';\nimport {DEFAULT_FACET_TOOLKIT_CONFIG, FacetToolkitConfig} from './models';\n\nexport const FACET_TOOLKIT_CONFIG = new InjectionToken<FacetToolkitConfig>(\n  'Facet Toolkit Configuration',\n  {\n    providedIn: 'root',\n    factory: () => DEFAULT_FACET_TOOLKIT_CONFIG\n  }\n);\n\nexport const provideFacetToolkitConfig = (config: Partial<FacetToolkitConfig>) =>\n  makeEnvironmentProviders([\n    provideNativeDateAdapter(),\n    {\n      provide: FACET_TOOLKIT_CONFIG,\n      useValue: {\n        ...DEFAULT_FACET_TOOLKIT_CONFIG,\n        ...config\n      }\n    }\n  ]);\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'csv',\n  standalone: true,\n  pure: false\n})\nexport class CSVPipe implements PipeTransform {\n\n  transform(value: {[key: string]: any}[], objectKeyName?: string, separator?: string): any {\n    return value.map(e => objectKeyName ? e[objectKeyName] : e).join(separator || ',');\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'filter',\n  standalone: true,\n  pure: false\n})\nexport class FilterPipe implements PipeTransform {\n  transform(objectArray: {[key: string]: any}[], fieldName: string, fieldValue: any): any {\n    return objectArray.filter(obj => obj[fieldName] === fieldValue);\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'keys',\n  standalone: true,\n  pure: false\n})\nexport class KeysPipe implements PipeTransform {\n  transform(value: any): any {\n    return Object.keys(value).map(k => ({key: k, value: k}))\n  }\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  OnDestroy,\n  ViewChild,\n  ViewContainerRef,\n  computed,\n  effect,\n  inject,\n  input,\n  output,\n  signal\n} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {MatAutocompleteModule, MatAutocompleteSelectedEvent, MatAutocompleteTrigger} from '@angular/material/autocomplete';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatCheckboxModule} from '@angular/material/checkbox';\nimport {MatChipsModule, MatChipSelectionChange} from '@angular/material/chips';\nimport {MatNativeDateModule, MatOptionModule} from '@angular/material/core';\nimport {MatDatepickerModule} from '@angular/material/datepicker';\nimport {MatDividerModule} from '@angular/material/divider';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatListModule} from '@angular/material/list';\nimport {MatMenuModule} from '@angular/material/menu';\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport {MatTooltipModule} from '@angular/material/tooltip';\nimport {A11yModule} from '@angular/cdk/a11y';\nimport {OverlayModule} from '@angular/cdk/overlay';\nimport {PortalModule} from '@angular/cdk/portal';\nimport {fromEvent, isObservable, of} from 'rxjs';\nimport {debounceTime, distinctUntilChanged, filter, map} from 'rxjs/operators';\nimport {\n  DEFAULT_FACET_TOOLKIT_CONFIG,\n  FacetDataType,\n  FacetDefinition,\n  FacetFilterType,\n  FacetIdentifierStrategy,\n  FacetPreset,\n  FacetSelection,\n  FacetToolkitConfig,\n  FacetValue\n} from './models';\nimport {FacetEditorState} from './models/facet-editor-state.model';\nimport {FacetDetailsModalComponent} from './modals/facet-details-modal/facet-details-modal.component';\nimport {FacetModalService} from './modals/facet-modal.service';\nimport {PresetManagerModalComponent} from './modals/preset-manager-modal/preset-manager-modal.component';\nimport {PresetNameModalComponent} from './modals/preset-name-modal/preset-name-modal.component';\nimport {VCRefInjector} from './misc/parent.helper';\nimport {v4 as uuidv4} from 'uuid';\nimport {chipAnimation} from './ngx-mat-facet-toolkit.animations';\nimport {FacetStorageService} from './services/facet-storage.service';\nimport {FacetPresetStorageService} from './services/facet-preset-storage.service';\nimport {FACET_TOOLKIT_CONFIG} from './facet-toolkit.config';\nimport {FacetResultType} from './models/facet-result.model';\nimport {CSVPipe, FilterPipe, KeysPipe} from './pipes';\nimport {FocusOnShowDirective} from './directives/focus-on-show.directive';\n\n@Component({\n  selector: 'ngx-mat-facet-toolkit',\n  standalone: true,\n  imports: [\n    A11yModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatIconModule,\n    MatToolbarModule,\n    MatProgressBarModule,\n    MatListModule,\n    MatFormFieldModule,\n    MatDatepickerModule,\n    MatDividerModule,\n    MatOptionModule,\n    MatSelectModule,\n    MatButtonModule,\n    MatCheckboxModule,\n    MatInputModule,\n    MatChipsModule,\n    MatTooltipModule,\n    MatAutocompleteModule,\n    MatNativeDateModule,\n    MatProgressSpinnerModule,\n    OverlayModule,\n    PortalModule,\n    MatMenuModule,\n    CSVPipe,\n    FilterPipe,\n    KeysPipe,\n    FocusOnShowDirective\n  ],\n  templateUrl: 'ngx-mat-facet-toolkit.component.html',\n  styleUrls: ['./ngx-mat-facet-toolkit.component.scss'],\n  animations: [\n    chipAnimation\n  ]\n})\nexport class NgxMatFacetToolkitComponent implements AfterViewInit, OnDestroy {\n  readonly facets = input<FacetDefinition[]>([]);\n  readonly config = input<Partial<FacetToolkitConfig>>({});\n\n  readonly placeholder = input('Filter Table...');\n  readonly clearButtonText = input('Clear Filters');\n  readonly clearButtonEnabled = input(true);\n  readonly dateFormat = input('M/d/yyyy');\n  readonly tooltip = input<string | null>(null);\n  readonly displayFilterIcon = input(true);\n  readonly facetWidth = input('400px');\n  readonly facetHasBackdrop = input(true);\n  readonly confirmOnRemove = input(true);\n  readonly chipLabelsEnabled = input(true);\n  readonly identifier = input<string | null>(null);\n\n  readonly facetChange = output<FacetSelection[]>();\n  readonly facetRemoved = output<FacetSelection>();\n  readonly facetReset = output<void>();\n\n  @ViewChild('filterInput') filterInput!: ElementRef<HTMLInputElement>;\n  @ViewChild(MatAutocompleteTrigger, {read: MatAutocompleteTrigger}) inputAutoComplete!: MatAutocompleteTrigger;\n  @ViewChild('presetMenuButton', {read: ElementRef}) presetMenuButton?: ElementRef<HTMLButtonElement>;\n  @ViewChild('chipScrollContainer', {read: ElementRef}) chipScrollContainer?: ElementRef<HTMLDivElement>;\n\n  readonly FacetDataType = FacetDataType;\n  readonly FacetFilterType = FacetFilterType;\n\n  readonly selectedFacetId = signal<string | null>(null);\n  readonly filterText = signal('');\n\n  private readonly injectedConfig = inject(FACET_TOOLKIT_CONFIG);\n  private readonly storageService = inject(FacetStorageService);\n  private readonly presetStorageService = inject(FacetPresetStorageService);\n  private readonly modal = inject(FacetModalService);\n  private readonly vcRef = inject(ViewContainerRef);\n\n  private readonly identifierStrategy = signal<FacetIdentifierStrategy>(FacetIdentifierStrategy.ParentID);\n  private readonly resolvedIdentifier = signal<string | null>(null);\n  private readonly allowDebugClick = signal(false);\n  private readonly chipRowScrollable = signal(false);\n  private readonly loggingCallback = signal<(...args: any[]) => void>(() => {});\n  private readonly showFilterCount = signal(false);\n  private timeoutHandler: ReturnType<typeof setTimeout> | null = null;\n  private chipRowResizeObserver: ResizeObserver | null = null;\n  private chipRowUpdateHandle: number | null = null;\n\n  private readonly injectorRef = new VCRefInjector(this.vcRef.injector);\n\n  readonly selectedFacets = signal<FacetSelection[]>([]);\n  readonly activeFilterCount = computed(() => this.selectedFacets().length);\n  readonly chipRowScrollableEnabled = computed(() => this.chipRowScrollable());\n  readonly showFilterCountEnabled = computed(() => this.showFilterCount());\n\n  readonly facetDefinitions = computed(() => this.facets() || []);\n\n  readonly selectedFacetViews = computed(() =>\n    this.selectedFacets()\n      .map(selection => this.toEditorState(selection))\n      .filter((facet): facet is FacetEditorState => !!facet)\n  );\n\n  readonly presets = signal<FacetPreset[]>([]);\n  readonly presetsForMenu = computed(() =>\n    [...this.presets()].sort((a, b) => a.name.localeCompare(b.name))\n  );\n  readonly chipRowHasOverflow = signal(false);\n\n  readonly availableFacets = computed(() => {\n    const selectedIds = new Set(this.selectedFacets().map(selection => selection.id));\n    return this.facetDefinitions().filter(facet => !selectedIds.has(facet.id));\n  });\n\n  readonly filteredFacets = computed(() => {\n    const filterText = this.filterText().toLowerCase();\n    if (!filterText) {\n      return this.availableFacets();\n    }\n    return this.availableFacets().filter(facet => facet.label.toLowerCase().includes(filterText));\n  });\n\n  constructor() {\n    effect(() => {\n      this.identifier();\n      const config = {\n        ...DEFAULT_FACET_TOOLKIT_CONFIG,\n        ...this.injectedConfig,\n        ...this.config()\n      };\n      this.allowDebugClick.set(config.allowDebugClick);\n      this.chipRowScrollable.set(config.chipRowScrollable);\n      this.identifierStrategy.set(config.identifierStrategy);\n      this.loggingCallback.set(config.loggingCallback);\n      this.showFilterCount.set(config.showFilterCount);\n      this.storageService.updateLoggingCallback(config.loggingCallback);\n      this.storageService.updateStorageStrategy(config.storage);\n      this.presetStorageService.updateLoggingCallback(config.loggingCallback);\n      this.presetStorageService.updateStorageConfig(config.presetStorage);\n      this.resolveIdentity();\n    });\n\n    effect(() => {\n      this.config();\n      const identifier = this.resolvedIdentifier();\n      this.refreshPresets(identifier);\n    });\n\n    effect(() => {\n      const facets = this.facetDefinitions();\n      const identifier = this.resolvedIdentifier();\n      this.refreshSelectionsFromFacets(facets, identifier);\n    });\n\n    effect(() => {\n      const selections = this.selectedFacets();\n      this.facetChange.emit(selections);\n    });\n\n    effect(() => {\n      this.selectedFacetViews();\n      this.scheduleChipRowUpdate();\n    });\n  }\n\n  private static getFixedURL(): string {\n    return window.location.pathname.toString()\n      .replace(/\\s+/g, '-')\n      .replace(/\\//g, '-')\n      .replace(/^-/g, '')\n      .replace(/--/g, '-');\n  }\n\n  ngAfterViewInit(): void {\n    fromEvent(this.filterInput.nativeElement, 'keyup')\n      .pipe(\n        filter(Boolean),\n        debounceTime(150),\n        distinctUntilChanged(),\n        map(() => this.filterInput.nativeElement.value)\n      )\n      .subscribe((text) => {\n        this.filterText.set(text || '');\n      });\n\n    if (this.chipScrollContainer?.nativeElement && typeof ResizeObserver !== 'undefined') {\n      this.chipRowResizeObserver = new ResizeObserver(() => {\n        this.updateChipRowOverflow();\n      });\n      this.chipRowResizeObserver.observe(this.chipScrollContainer.nativeElement);\n      this.scheduleChipRowUpdate();\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.chipRowResizeObserver) {\n      this.chipRowResizeObserver.disconnect();\n      this.chipRowResizeObserver = null;\n    }\n    if (this.chipRowUpdateHandle !== null) {\n      cancelAnimationFrame(this.chipRowUpdateHandle);\n      this.chipRowUpdateHandle = null;\n    }\n  }\n\n  chipSelected(event: MatChipSelectionChange, facet: FacetEditorState): void {\n    if (event.selected && !facet.readonly) {\n      const elementRef = event.source._elementRef.nativeElement;\n\n      this.facetSelected(facet, {\n        top: (elementRef.clientHeight - 5),\n        left: -3,\n      }, true, elementRef);\n    }\n  }\n\n  autoCompleteDisplay(_: unknown): string {\n    return '';\n  }\n\n  autoCompleteSelected(event: MatAutocompleteSelectedEvent): void {\n    const selectedFacet: FacetDefinition = event.option.value;\n    const parentElement = this.filterInput.nativeElement;\n\n    if (!!parentElement) {\n      const elementRef = parentElement.getBoundingClientRect();\n      const top = elementRef.height - 3;\n      const left = -38;\n\n      const editorState = this.toEditorState(this.toSelection(selectedFacet, [])) || {\n        ...selectedFacet,\n        values: [],\n        options: this.normalizeOptions(selectedFacet.options)\n      };\n\n      this.facetSelected(editorState, {top, left}, false, this.filterInput);\n      this.filterInput.nativeElement.value = '';\n      this.filterText.set('');\n    }\n  }\n\n  facetSelected(facet: FacetEditorState, position: { top: number; left: number | undefined }, isUpdate: boolean, target: unknown): void {\n    this.promptFacet({...facet}, position, isUpdate, target);\n  }\n\n  promptFacet(facet: FacetEditorState, position: { top: number; left: number | undefined }, isUpdate: boolean, target: unknown): void {\n    const facetDetailsModal = this.modal.open<FacetEditorState>(FacetDetailsModalComponent, target as ElementRef | HTMLElement, {\n      data: facet,\n      offsetY: position.top,\n      offsetX: position.left,\n      isUpdate,\n      hasBackdrop: this.facetHasBackdrop(),\n      width: this.facetWidth()\n    });\n\n    facetDetailsModal.beforeClosed().subscribe(() => {\n      this.selectedFacetId.set(null);\n    });\n\n    facetDetailsModal.afterClosed().subscribe(result => {\n      if (result.type === FacetResultType.REMOVE && result.data) {\n        this.removeFacet(result.data);\n      } else if (result.type === FacetResultType.ADD && result.data) {\n        this.addOrUpdateFacet(result.data);\n      }\n    });\n  }\n\n  addOrUpdateFacet(facet: FacetEditorState): void {\n    const selection = this.toSelection(facet, facet.values, facet.filterType);\n    const nextSelections = this.selectedFacets()\n      .filter(existing => existing.id !== selection.id)\n      .concat(selection);\n\n    this.selectedFacets.set(nextSelections);\n    this.storageService.updateSavedFacets(this.resolvedIdentifier(), nextSelections);\n  }\n\n  removeFacet(facet: FacetEditorState): boolean {\n    if (!this.confirmOnRemove() || (this.confirmOnRemove() && confirm(`Do you really want to remove \"${facet.label}\" filter?`))) {\n      const updatedSelections = this.selectedFacets().filter(selection => selection.id !== facet.id);\n      this.selectedFacets.set(updatedSelections);\n      this.storageService.updateSavedFacets(this.resolvedIdentifier(), updatedSelections);\n      this.facetRemoved.emit(this.toSelection(facet, facet.values, facet.filterType));\n      return true;\n    }\n    return false;\n  }\n\n  reset(): void {\n    const readonlySelections = this.facetDefinitions()\n      .filter(facet => facet.readonly && (facet.defaultValues || []).length > 0)\n      .map(facet => this.toSelection(facet, facet.defaultValues || []));\n\n    this.selectedFacets.set(readonlySelections);\n    this.storageService.clearStorage(this.resolvedIdentifier());\n    this.facetReset.emit();\n  }\n\n  promptSavePreset(): void {\n    const target = this.presetMenuButton?.nativeElement || this.filterInput?.nativeElement;\n    const modalRef = this.modal.open<string>(PresetNameModalComponent, target, {\n      data: {\n        title: 'Save current filters',\n        confirmLabel: 'Save preset',\n        placeholder: 'Preset name'\n      },\n      offsetY: 20,\n      offsetX: -10,\n      width: '320px'\n    });\n\n    modalRef.afterClosed().subscribe(result => {\n      if (result.type !== FacetResultType.ADD || !result.data) {\n        return;\n      }\n      this.savePreset(result.data);\n    });\n  }\n\n  openPresetManager(): void {\n    const target = this.presetMenuButton?.nativeElement || this.filterInput?.nativeElement;\n    this.modal.open(PresetManagerModalComponent, target, {\n      data: {\n        presets: this.presetsForMenu(),\n        onLoad: (preset: FacetPreset) => this.applyPreset(preset),\n        onRename: (preset: FacetPreset, name: string) => this.renamePreset(preset, name),\n        onDelete: (preset: FacetPreset) => this.deletePreset(preset)\n      },\n      centered: true,\n      width: '380px'\n    });\n  }\n\n  applyPreset(preset: FacetPreset): void {\n    const facetDefinitions = this.facetDefinitions();\n    const presetById = new Map(preset.selections.map(selection => [selection.id, selection]));\n    const nextSelections = facetDefinitions\n      .map(facet => {\n        const stored = presetById.get(facet.id);\n        if (stored) {\n          return stored;\n        }\n        if (facet.readonly && facet.defaultValues && facet.defaultValues.length > 0) {\n          return this.toSelection(facet, facet.defaultValues);\n        }\n        return null;\n      })\n      .filter((selection): selection is FacetSelection => !!selection);\n\n    this.selectedFacets.set(nextSelections);\n    this.storageService.updateSavedFacets(this.resolvedIdentifier(), nextSelections);\n  }\n\n  private savePreset(name: string): void {\n    const identifier = this.resolvedIdentifier();\n    if (!identifier) {\n      this.loggingCallback()('Cannot save preset, no identifier resolved');\n      return;\n    }\n\n    const selections = this.cloneSelections(this.selectedFacets());\n    const preset: FacetPreset = {\n      id: uuidv4(),\n      name,\n      identifier,\n      selections,\n      createdAt: new Date().toISOString()\n    };\n\n    const nextPresets = this.presets().concat(preset);\n    this.persistPresets(nextPresets);\n  }\n\n  private renamePreset(preset: FacetPreset, name: string): void {\n    const nextPresets = this.presets().map(item =>\n      item.id === preset.id ? {...item, name, updatedAt: new Date().toISOString()} : item\n    );\n    this.persistPresets(nextPresets);\n  }\n\n  private deletePreset(preset: FacetPreset): void {\n    const nextPresets = this.presets().filter(item => item.id !== preset.id);\n    this.persistPresets(nextPresets);\n  }\n\n  private persistPresets(presets: FacetPreset[]): void {\n    this.presets.set(presets);\n    this.presetStorageService.savePresets(this.resolvedIdentifier(), presets);\n  }\n\n  private refreshPresets(identifier: string | null): void {\n    if (!identifier) {\n      this.presets.set([]);\n      return;\n    }\n    this.presets.set(this.presetStorageService.loadPresets(identifier));\n  }\n\n  private cloneSelections(selections: FacetSelection[]): FacetSelection[] {\n    return (selections || []).map(selection => ({\n      ...selection,\n      values: (selection.values || []).map(value => ({...value}))\n    }));\n  }\n\n  private scheduleChipRowUpdate(): void {\n    if (!this.chipScrollContainer?.nativeElement) {\n      return;\n    }\n    if (this.chipRowUpdateHandle !== null) {\n      return;\n    }\n    this.chipRowUpdateHandle = requestAnimationFrame(() => {\n      this.chipRowUpdateHandle = null;\n      this.updateChipRowOverflow();\n    });\n  }\n\n  private updateChipRowOverflow(): void {\n    const container = this.chipScrollContainer?.nativeElement;\n    if (!container) {\n      return;\n    }\n    this.chipRowHasOverflow.set(container.scrollWidth > container.clientWidth);\n  }\n\n  focus(event: MouseEvent) {\n    event.stopPropagation();\n    this.inputAutoComplete.openPanel();\n  }\n\n  getValue(facet: FacetEditorState, offset?: number): FacetValue | null {\n    if (!!facet?.values?.length && facet.values[offset || 0]?.value !== undefined) {\n      return facet.values[offset || 0];\n    }\n\n    return null;\n  }\n\n  getRawValue(facet: FacetEditorState, offset?: number): unknown {\n    const value = this.getValue(facet, offset);\n    return value ? value.value : null;\n  }\n\n  getDateValue(facet: FacetEditorState, offset?: number): string | number | Date | null {\n    const value = this.getRawValue(facet, offset);\n    if (value instanceof Date || typeof value === 'string' || typeof value === 'number') {\n      return value;\n    }\n    return null;\n  }\n\n  setValue(facet: FacetEditorState, newValue: unknown, offset?: number) {\n    if (!!facet?.values?.length && facet.values[offset || 0]) {\n      facet.values[offset || 0] = {\n        ...facet.values[offset || 0],\n        value: newValue as FacetValue['value']\n      };\n    }\n  }\n\n  identify(identifier: string | null | undefined) {\n    this.loggingCallback()(`Identifying facet with ID: ${identifier}`);\n    if (!identifier || identifier.length === 0 || identifier === '-') {\n      this.resolvedIdentifier.set('default-facet');\n    } else {\n      this.resolvedIdentifier.set(`${identifier}-facet`);\n    }\n  }\n\n  getIdentifierStrategy(): FacetIdentifierStrategy {\n    return this.identifierStrategy();\n  }\n\n  printIdentity() {\n    console.log(this.resolvedIdentifier());\n  }\n\n  clickStarted() {\n    if (!this.allowDebugClick()) {\n      return;\n    }\n\n    this.timeoutHandler = setTimeout(() => {\n      this.printIdentity();\n      this.timeoutHandler = null;\n    }, 1000);\n  }\n\n  clickEnded() {\n    if (this.timeoutHandler) {\n      clearTimeout(this.timeoutHandler);\n      this.timeoutHandler = null;\n    }\n  }\n\n  private resolveIdentity(manual?: string) {\n    const identifierInput = manual ?? this.identifier();\n    let identity: string | undefined | null;\n\n    this.loggingCallback()('Generating ID with strategy', this.identifierStrategy());\n\n    switch (this.identifierStrategy()) {\n      case FacetIdentifierStrategy.WindowURL:\n        identity = NgxMatFacetToolkitComponent.getFixedURL();\n        break;\n      case FacetIdentifierStrategy.ParentID:\n        identity = this.injectorRef.parentIdentifier;\n        break;\n      case FacetIdentifierStrategy.Random:\n        identity = uuidv4();\n        break;\n      default:\n        identity = identifierInput;\n        break;\n    }\n\n    this.identify(identity);\n  }\n\n  private refreshSelectionsFromFacets(facets: FacetDefinition[], identifier: string | null) {\n    if (!facets.length) {\n      this.selectedFacets.set([]);\n      return;\n    }\n\n    const storedSelections = this.storageService.loadFacetsFromStorage(identifier);\n    const storedById = new Map(storedSelections.map(selection => [selection.id, selection]));\n\n    const nextSelections = facets\n      .map(facet => {\n        const stored = storedById.get(facet.id);\n        if (stored) {\n          return stored;\n        }\n        if (facet.defaultValues && facet.defaultValues.length > 0) {\n          return this.toSelection(facet, facet.defaultValues);\n        }\n        return null;\n      })\n      .filter((selection): selection is FacetSelection => !!selection);\n\n    this.selectedFacets.set(nextSelections);\n  }\n\n  private toSelection(facet: FacetDefinition | FacetEditorState, values: FacetValue[], filterType?: FacetFilterType): FacetSelection {\n    return {\n      id: facet.id,\n      type: facet.type,\n      filterType: this.resolveFilterType(facet, filterType),\n      values: values || []\n    };\n  }\n\n  private resolveFilterType(facet: FacetDefinition | FacetEditorState, filterType?: FacetFilterType): FacetFilterType | undefined {\n    if (filterType) {\n      return filterType;\n    }\n\n    if (facet.fixedFilterType) {\n      return facet.fixedFilterType;\n    }\n\n    switch (facet.type) {\n      case FacetDataType.Date:\n      case FacetDataType.Boolean:\n      case FacetDataType.Numeric:\n        return FacetFilterType.equal;\n      case FacetDataType.DateRange:\n        return FacetFilterType.between;\n      case FacetDataType.CategorySingle:\n      case FacetDataType.TypeaheadSingle:\n        return FacetFilterType.equal;\n      case FacetDataType.Text:\n      case FacetDataType.Category:\n      case FacetDataType.Typeahead:\n      default:\n        return FacetFilterType.contains;\n    }\n  }\n\n  private toEditorState(selection: FacetSelection): FacetEditorState | null {\n    const facet = this.facetDefinitions().find(definition => definition.id === selection.id);\n    if (!facet) {\n      return null;\n    }\n    return {\n      ...facet,\n      values: selection.values,\n      filterType: selection.filterType,\n      options: this.normalizeOptions(facet.options)\n    };\n  }\n\n  private normalizeOptions(options?: FacetDefinition['options']): FacetDefinition['options'] | undefined {\n    if (!options) {\n      return undefined;\n    }\n    return isObservable(options) ? options : of(options);\n  }\n}\n","<div class=\"main-facet-wrapper\">\n\n  @if (displayFilterIcon()) {\n    <div class=\"icon-wrapper\">\n      <button #presetMenuButton mat-icon-button [matMenuTriggerFor]=\"presetMenu\"\n              class=\"preset-menu-trigger\"\n              (mousedown)=\"clickStarted()\" (mouseup)=\"clickEnded()\" (mouseleave)=\"clickEnded()\"\n              [matTooltip]=\"tooltip() !== null ? tooltip() : ''\"\n              [matTooltipDisabled]=\"tooltip() === null\">\n        <mat-icon>bookmark</mat-icon>\n      </button>\n      <mat-menu #presetMenu=\"matMenu\" class=\"preset-menu\">\n        <button mat-menu-item (click)=\"promptSavePreset()\" [disabled]=\"selectedFacets().length === 0\">\n          <mat-icon>bookmark_add</mat-icon>\n          <span>Save current filters</span>\n        </button>\n        <button mat-menu-item (click)=\"openPresetManager()\">\n          <mat-icon>tune</mat-icon>\n          <span>Manage presets</span>\n        </button>\n        <mat-divider></mat-divider>\n        @if (presetsForMenu().length > 0) {\n          @for (preset of presetsForMenu(); track preset.id) {\n            <button mat-menu-item (click)=\"applyPreset(preset)\">\n              <mat-icon>bookmark</mat-icon>\n              <span>{{preset.name}}</span>\n            </button>\n          }\n        } @else {\n          <button mat-menu-item disabled>\n            <mat-icon>bookmark_border</mat-icon>\n            <span>No presets yet</span>\n          </button>\n        }\n      </mat-menu>\n    </div>\n  }\n\n  <div class=\"content-wrapper\" [class.chip-scrollable]=\"chipRowScrollableEnabled()\">\n    <div class=\"chip-row\">\n      <div class=\"filter-input-container\">\n        <span class=\"flex-facet-autocomplete\">\n\n          <mat-icon class=\"add-icon\" (click)=\"focus($event)\">add</mat-icon>\n\n          <input #filterInput [matChipInputFor]=\"chipList\" class=\"filter-input\" [placeholder]=\"placeholder()\"\n                 [matChipInputAddOnBlur]=\"false\" [matAutocomplete]=\"auto\"\n                 (keydown.backspace)=\"$event.stopPropagation()\"\n                 (keydown.delete)=\"$event.stopPropagation()\">\n\n          @if (showFilterCountEnabled()) {\n            <span class=\"filter-count-divider\" aria-hidden=\"true\"></span>\n            <span class=\"filter-count\">{{activeFilterCount()}}</span>\n          }\n\n          <mat-autocomplete #auto=\"matAutocomplete\" class=\"mat-facet-autocomplete\" (optionSelected)=\"autoCompleteSelected($event)\"\n                            [displayWith]=\"autoCompleteDisplay\" panelWidth=\"250px\">\n            @for (facet of filteredFacets(); track facet.id) {\n              <mat-option [value]=\"facet\">\n                @if (facet.icon) {\n                  <mat-icon>{{facet.icon}}</mat-icon>\n                }\n                <span>{{ facet.label }}</span>\n              </mat-option>\n            }\n          </mat-autocomplete>\n\n        </span>\n      </div>\n\n      <div class=\"chip-scroll-container\" #chipScrollContainer [class.has-scroll]=\"chipRowHasOverflow()\">\n        <mat-chip-grid #chipList>\n          @for (facet of selectedFacetViews(); track facet.id) {\n            <mat-chip-option @chipAnimation [color]=\"facet.readonly ? 'accent' : undefined\"\n                             class=\"facet-chip\"\n                             (selectionChange)=\"chipSelected($event, facet)\" (click)=\"selectedFacetId.set(facet.id)\"\n                             [selected]=\"facet.id === selectedFacetId()\"\n                             matTooltip=\"{{facet.label + (facet.description ? ': ' + facet.description : '')}}\"\n                             matTooltipShowDelay=\"1000\">\n              <span class=\"flex-facet\">\n\n                @if (facet.icon) {\n                  <mat-icon class=\"inline-chip-icon\">{{facet.icon}}</mat-icon>\n                }\n\n                @if (chipLabelsEnabled()) {\n                  <span>{{ facet.label + ': &nbsp;'}}</span>\n                }\n\n                @switch (facet.type) {\n                  @case (FacetDataType.Category) {\n                    {{facet.values | csv:'label':' / '}}\n                  }\n                  @case (FacetDataType.CategorySingle) {\n                    {{facet.values | csv:'label':' / '}}\n                  }\n                  @case (FacetDataType.Typeahead) {\n                    {{facet.values | csv:'label':' / '}}\n                  }\n                  @case (FacetDataType.TypeaheadSingle) {\n                    {{facet.values | csv:'label':' / '}}\n                  }\n                  @case (FacetDataType.Date) {\n                    {{getDateValue(facet) | date:dateFormat()}}\n                  }\n                  @case (FacetDataType.DateRange) {\n                    {{getDateValue(facet) | date:dateFormat()}} ~ {{getDateValue(facet, 1) | date:dateFormat()}}\n                  }\n                  @case (FacetDataType.Boolean) {\n                    <mat-checkbox [disabled]=\"true\" class=\"inline-chip-checkbox\" [ngModel]=\"getRawValue(facet)\" (ngModelChange)=\"setValue(facet, $event)\">\n                      {{facet.label}}\n                    </mat-checkbox>\n                  }\n                  @case (FacetDataType.Text) {\n                    @switch (facet.filterType) {\n                      @case (FacetFilterType.contains) {\n                        ..{{getRawValue(facet)}}..\n                      }\n                      @case (FacetFilterType.equal) {\n                        {{getRawValue(facet)}}\n                      }\n                      @case (FacetFilterType.startsWith) {\n                        {{getRawValue(facet)}}...\n                      }\n                      @case (FacetFilterType.endsWith) {\n                        ...{{getRawValue(facet)}}\n                      }\n                    }\n                  }\n                  @case (FacetDataType.Numeric) {\n                    @switch (facet.filterType) {\n                      @case (FacetFilterType.equal) {\n                        ={{getRawValue(facet)}}\n                      }\n                      @case (FacetFilterType.greaterThan) {\n                        >{{getRawValue(facet)}}\n                      }\n                      @case (FacetFilterType.greaterThanOrEqual) {\n                        {{getRawValue(facet)}}\n                      }\n                      @case (FacetFilterType.lessThan) {\n                        <{{getRawValue(facet)}}\n                      }\n                      @case (FacetFilterType.lessThanOrEqual) {\n                        {{getRawValue(facet)}}\n                      }\n                      @case (FacetFilterType.between) {\n                        {{getRawValue(facet)}} - {{getRawValue(facet, 1)}}\n                      }\n                    }\n                  }\n                }\n\n                @if (!facet.readonly) {\n                  <mat-icon matChipRemove (click)=\"removeFacet(facet)\">cancel</mat-icon>\n                }\n\n              </span>\n\n            </mat-chip-option>\n          }\n        </mat-chip-grid>\n      </div>\n    </div>\n  </div>\n\n\n  @if (clearButtonEnabled() && selectedFacets().length > 0) {\n    <button mat-flat-button (click)=\"reset()\" color=\"accent\">\n      {{clearButtonText()}}\n    </button>\n  }\n\n</div>\n","/*\n * Public API Surface of ngx-mat-facet-toolkit\n */\n\nexport * from './lib/ngx-mat-facet-toolkit.component';\nexport * from './lib/models';\nexport * from './lib/facet-toolkit.config';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import {Component} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {MatCardModule} from '@angular/material/card';\nimport {FacetSelection} from '@drsutphin/ngx-mat-facet-toolkit';\n\n@Component({\n  selector: 'app-output',\n  templateUrl: './output.component.html',\n  styleUrls: ['./output.component.scss'],\n  standalone: true,\n  imports: [\n    CommonModule,\n    MatCardModule\n  ]\n})\nexport class OutputComponent {\n\n  public selectedFacets: FacetSelection[] = [];\n\n  filterUpdated(facetFilters: FacetSelection[]): void {\n    this.selectedFacets = facetFilters;\n    console.log('filter', facetFilters);\n  }\n}\n","<mat-card appearance=\"outlined\">\n  <mat-card-title>Output</mat-card-title>\n  <mat-card-content>\n    <pre>{{selectedFacets | json }}</pre>\n  </mat-card-content>\n</mat-card>\n","import {Component} from '@angular/core';\nimport {\n  FacetDefinition,\n  FacetIdentifierStrategy,\n  FacetToolkitConfig\n} from '@drsutphin/ngx-mat-facet-toolkit';\nimport {SettingsComponent} from '../../components/settings/settings.component';\nimport {OutputComponent} from '../../components/output/output.component';\nimport {NgxMatFacetToolkitComponent} from '@drsutphin/ngx-mat-facet-toolkit';\nimport {MatCardModule} from '@angular/material/card';\nimport {MatDividerModule} from '@angular/material/divider';\n\n@Component({\n  selector: 'app-page-one',\n  templateUrl: './page-one.component.html',\n  styleUrls: ['./page-one.component.scss'],\n  standalone: true,\n  imports: [\n    MatCardModule,\n    MatDividerModule,\n    NgxMatFacetToolkitComponent,\n    SettingsComponent,\n    OutputComponent\n  ]\n})\nexport class PageOneComponent {\n  facets: Array<FacetDefinition> = [];\n  identifier: string | null = null;\n  strategy: FacetIdentifierStrategy = FacetIdentifierStrategy.ParentID;\n  config: Partial<FacetToolkitConfig> = {\n    identifierStrategy: FacetIdentifierStrategy.ParentID,\n    chipRowScrollable: true,\n    showFilterCount: true\n  };\n\n  strategyUpdated(newStrategy: FacetIdentifierStrategy) {\n    this.strategy = newStrategy;\n    this.config = {\n      ...this.config,\n      identifierStrategy: newStrategy\n    };\n  }\n\n  manualIdentifierUpdated(identifier: string) {\n    this.identifier = identifier;\n  }\n\n  facetsUpdated(facets: FacetDefinition[]) {\n    this.facets = facets;\n  }\n}\n","<mat-card appearance=\"outlined\">\n  <mat-card-content>\n\n    <ngx-mat-facet-toolkit\n      [facets]=\"facets\"\n      [config]=\"config\"\n      [identifier]=\"identifier\"\n      (facetChange)=\"output.filterUpdated($event)\"\n      [chipLabelsEnabled]=\"settings.chipLabelsEnabled\"\n      [confirmOnRemove]=\"settings.confirmOnRemove\"\n      [clearButtonEnabled]=\"settings.clearButtonEnabled\"\n      placeholder=\"Add a filter...\"\n      clearButtonText=\"CLEAR FILTERS\">\n    </ngx-mat-facet-toolkit>\n\n  </mat-card-content>\n</mat-card>\n\n<mat-divider></mat-divider>\n\n<div class=\"content\">\n\n  <app-settings\n    #settings\n    (facetsUpdated)=\"facetsUpdated($event)\"\n    [currentIdentifier]=\"identifier\"\n    [strategy]=\"strategy\"\n    (strategyUpdated)=\"strategyUpdated($event)\"\n    (manualIdentifierUpdated)=\"manualIdentifierUpdated($event)\">\n  </app-settings>\n  <mat-divider [vertical]=\"true\"></mat-divider>\n  <app-output #output></app-output>\n\n</div>\n"],"names":["of","delay","map","testEmptyFilterTypeahead","text","value","label","pipe","values","filtered","filter","includes","length","randomValueArray","Set","Array","from","Math","floor","random","num","lotsOfValuesTypeAhead","DOCUMENT","NavigationEnd","RouterLink","RouterOutlet","MatButtonModule","MatIconModule","MatToolbarModule","packageData","AppComponent","router","document","showPageOne","showPageTwo","isDarkMode","version","repo","repository","url","constructor","ngOnInit","events","subscribe","event","currentURL","toggleTheme","body","classList","toggle","i0","directiveInject","i1","Router","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","elementStart","text","elementEnd","element","listener","AppComponent_Template_button_click_8_listener","advance","textInterpolate1","property","textInterpolate","sanitizeUrl","i2","MatToolbar","i3","MatAnchor","MatButton","i4","MatIcon","styles","changeDetection","PageOneComponent","PageTwoComponent","APP_ROUTES","path","component","redirectTo","FacetIdentifierStrategy","SettingsComponent","OutputComponent","NgxMatFacetToolkitComponent","MatCardModule","MatDividerModule","facets","identifier","strategy","ParentID","config","identifierStrategy","chipRowScrollable","showFilterCount","strategyUpdated","newStrategy","manualIdentifierUpdated","facetsUpdated","PageTwoComponent_Template","PageTwoComponent_Template_ngx_mat_facet_toolkit_facetChange_2_listener","$event","restoreView","_r1","output_r2","reference","resetView","filterUpdated","PageTwoComponent_Template_app_settings_facetsUpdated_5_listener","PageTwoComponent_Template_app_settings_strategyUpdated_5_listener","PageTwoComponent_Template_app_settings_manualIdentifierUpdated_5_listener","settings_r3","chipLabelsEnabled","confirmOnRemove","clearButtonEnabled","MatCard","MatCardContent","MatDivider","EventEmitter","CommonModule","FormsModule","MatCheckboxModule","MatFormFieldModule","MatInputModule","MatSelectModule","MatTooltipModule","BehaviorSubject","FacetDataType","strategy_r1","ctx_r1","displayStrategy","twoWayListener","SettingsComponent_Conditional_20_Template_input_ngModelChange_3_listener","_r3","nextContext","twoWayBindingSet","manualIdentifier","SettingsComponent_Conditional_20_Template_input_change_3_listener","manualInput_r4","emit","twoWayProperty","currentStrategy","currentIdentifier","isUsingSetB","allStrategies","showManualInput","allFacets","id","type","Text","description","icon","Date","Numeric","dataType","placeholder","DateRange","Boolean","CategorySingle","options","count","Category","Typeahead","typeahead","provider","txt","Object","v","toLowerCase","ngAfterViewInit","toggleSet","chunkArray","arr","n","chunkLength","max","chunks","i","push","slice","raw","chunked","inputs","outputs","SettingsComponent_Template","SettingsComponent_Template_mat_checkbox_ngModelChange_4_listener","SettingsComponent_Template_mat_checkbox_ngModelChange_6_listener","SettingsComponent_Template_mat_checkbox_ngModelChange_8_listener","SettingsComponent_Template_button_click_10_listener","SettingsComponent_Template_mat_select_valueChange_15_listener","SettingsComponent_Template_mat_select_selectionChange_15_listener","repeaterCreate","SettingsComponent_For_17_Template","repeaterTrackByIdentity","template","SettingsComponent_Conditional_20_Template","repeater","conditional","pipeBind1","AsyncPipe","DefaultValueAccessor","NgControlStatus","NgModel","MatCardTitle","i5","MatCheckbox","i6","MatFormField","MatLabel","i7","MatInput","i8","MatSelect","MatOption","i9","MatTooltip","enableProdMode","bootstrapApplication","provideAnimations","provideRouter","environment","provideFacetToolkitConfig","production","providers","loggingCallback","args","console","log","catch","err","error","FacetDetailsModalComponent_ng_template_9_Template","FacetDetailsModalComponent_ng_template_11_Template","FacetDetailsModalComponent_Case_13_Conditional_1_Conditional_1_For_2_Conditional_3_Template","item_r5","FacetDetailsModalComponent_Case_13_Conditional_1_Conditional_1_For_2_Template","$implicit","$index_38_r6","$index","isItemSelected","undefined","FacetDetailsModalComponent_Case_13_Conditional_1_Conditional_1_Template","selectionChange","data","options_r4","FacetDetailsModalComponent_Case_13_Conditional_1_Conditional_1_Template_mat_selection_list_keydown_enter_0_listener","validateAndSubmit","FacetDetailsModalComponent_Case_13_Conditional_1_Conditional_2_ng_container_0_Template","FacetDetailsModalComponent_Case_13_Conditional_1_Conditional_2_Template","FacetDetailsModalComponent_Case_13_Conditional_1_Template","FacetDetailsModalComponent_Case_13_Conditional_3_ng_container_0_Template","FacetDetailsModalComponent_Case_13_Conditional_3_Template","FacetDetailsModalComponent_Case_13_Template","tmp_3_0","FacetDetailsModalComponent_Case_14_Conditional_6_Template","_r10","clearInput","FacetDetailsModalComponent_Case_14_Conditional_7_Conditional_1_For_2_Conditional_3_Template","item_r13","FacetDetailsModalComponent_Case_14_Conditional_7_Conditional_1_For_2_Template","$index_85_r14","FacetDetailsModalComponent_Case_14_Conditional_7_Conditional_1_Template","_r11","options_r12","FacetDetailsModalComponent_Case_14_Conditional_7_Conditional_1_Template_mat_selection_list_keydown_enter_0_listener","FacetDetailsModalComponent_Case_14_Conditional_7_Conditional_2_ng_container_0_Template","FacetDetailsModalComponent_Case_14_Conditional_7_Conditional_2_Template","FacetDetailsModalComponent_Case_14_Conditional_7_Template","FacetDetailsModalComponent_Case_14_Conditional_9_ng_container_0_Template","FacetDetailsModalComponent_Case_14_Conditional_9_Template","FacetDetailsModalComponent_Case_14_Template","_r9","typeaheadValueChanged","FacetDetailsModalComponent_Case_14_Template_input_keydown_enter_4_listener","tmp_7_0","FacetDetailsModalComponent_Case_15_Template","_r15","setValue","FacetDetailsModalComponent_Case_15_Template_input_focus_4_listener","emptyFunction","picker_r16","open","FacetDetailsModalComponent_Case_15_Template_input_keydown_enter_4_listener","getRawValue","FacetDetailsModalComponent_Case_16_Template","_r17","FacetDetailsModalComponent_Case_16_Template_input_focus_4_listener","startDatePicker_r18","FacetDetailsModalComponent_Case_16_Template_input_keydown_enter_4_listener","FacetDetailsModalComponent_Case_16_Template_input_keydown_enter_11_listener","endDatePicker_r19","FacetDetailsModalComponent_Case_17_Conditional_17_Template","_r21","FacetDetailsModalComponent_Case_17_Template","_r20","setType","FacetDetailsModalComponent_Case_17_Template_input_ngModelChange_16_listener","FacetDetailsModalComponent_Case_18_Conditional_17_Template","_r23","FacetDetailsModalComponent_Case_18_Conditional_17_Template_input_keydown_enter_3_listener","FacetDetailsModalComponent_Case_18_Conditional_17_Template_input_keydown_enter_7_listener","FacetDetailsModalComponent_Case_18_Conditional_18_Template","_r24","FacetDetailsModalComponent_Case_18_Conditional_18_Template_input_keydown_enter_3_listener","FacetDetailsModalComponent_Case_18_Template","_r22","FacetDetailsModalComponent_Case_19_Template","_r25","FacetDetailsModalComponent_Case_19_Template_mat_checkbox_keydown_enter_1_listener","FacetDetailsModalComponent_Conditional_23_Template","_r26","onRemove","FacetModalComponent_ng_template_0_Template","FacetModalComponent_Conditional_1_Template","_forTrack1","$item","PresetManagerModalComponent_button_13_Template","PresetManagerModalComponent_Conditional_15_Template","PresetManagerModalComponent_For_17_Conditional_27_Template","_r5","confirmRename","preset_r4","cancelRename","PresetManagerModalComponent_For_17_Template","loadPreset","startRename","deletePreset","presetMenu_r6","_c2","_c3","_c4","NgxMatFacetToolkitComponent_Conditional_1_Conditional_18_For_1_Template","_r4","ctx_r2","applyPreset","preset_r5","NgxMatFacetToolkitComponent_Conditional_1_Conditional_18_Template","presetsForMenu","NgxMatFacetToolkitComponent_Conditional_1_Conditional_19_Template","NgxMatFacetToolkitComponent_Conditional_1_Template","_r2","clickStarted","NgxMatFacetToolkitComponent_Conditional_1_Template_button_mouseup_1_listener","clickEnded","NgxMatFacetToolkitComponent_Conditional_1_Template_button_mouseleave_1_listener","promptSavePreset","openPresetManager","tooltip","NgxMatFacetToolkitComponent_Conditional_10_Template","NgxMatFacetToolkitComponent_For_14_Conditional_1_Template","facet_r7","NgxMatFacetToolkitComponent_For_14_Template","NgxMatFacetToolkitComponent_For_20_Conditional_2_Template","facet_r9","NgxMatFacetToolkitComponent_For_20_Conditional_3_Template","NgxMatFacetToolkitComponent_For_20_Case_4_Template","NgxMatFacetToolkitComponent_For_20_Case_5_Template","NgxMatFacetToolkitComponent_For_20_Case_6_Template","NgxMatFacetToolkitComponent_For_20_Case_7_Template","NgxMatFacetToolkitComponent_For_20_Case_8_Template","NgxMatFacetToolkitComponent_For_20_Case_9_Template","NgxMatFacetToolkitComponent_For_20_Case_10_Template","NgxMatFacetToolkitComponent_For_20_Case_11_Case_0_Template","NgxMatFacetToolkitComponent_For_20_Case_11_Case_1_Template","NgxMatFacetToolkitComponent_For_20_Case_11_Case_2_Template","NgxMatFacetToolkitComponent_For_20_Case_11_Case_3_Template","NgxMatFacetToolkitComponent_For_20_Case_11_Template","tmp_15_0","NgxMatFacetToolkitComponent_For_20_Case_12_Case_0_Template","NgxMatFacetToolkitComponent_For_20_Case_12_Case_1_Template","NgxMatFacetToolkitComponent_For_20_Case_12_Case_2_Template","NgxMatFacetToolkitComponent_For_20_Case_12_Case_3_Template","NgxMatFacetToolkitComponent_For_20_Case_12_Case_4_Template","NgxMatFacetToolkitComponent_For_20_Case_12_Case_5_Template","NgxMatFacetToolkitComponent_For_20_Case_12_Template","NgxMatFacetToolkitComponent_For_20_Conditional_13_Template","removeFacet","NgxMatFacetToolkitComponent_For_20_Template","_r8","chipSelected","NgxMatFacetToolkitComponent_For_20_Template_mat_chip_option_click_0_listener","selectedFacetId","set","tmp_20_0","readonly","NgxMatFacetToolkitComponent_Conditional_21_Template","_r12","reset","FacetFilterType","DEFAULT_FACET_PRESET_STORAGE_CONFIG","keyPrefix","callbacks","DEFAULT_FACET_TOOLKIT_CONFIG","allowDebugClick","presetStorage","storage","FACET_MODAL_DATA","InjectionToken","FacetResultType","FocusOnShowDirective","el","timeout","firstElement","nativeElement","focus","Error","setTimeout","focusInput","Number","input","hasOwnProperty","select","ElementRef","Directive","selector","standalone","Input","FacetModalRef","overlayRef","positionStrategy","afterClosedSubject","Subject","beforeClosedSubject","_result","CANCEL","disableClose","backdropClick","close","detachments","next","complete","keydownEvents","key","dialogResult","dispose","afterClosed","asObservable","beforeClosed","positionChanges","MAX_TEXT_LENGTH","FacetDetailsModalComponent","modalRef","typeAheadInputs","isUpdate","typeaheadText","clearButtonDisabled","resolvedOptions$","typeAheadInputChanged","TypeaheadSingle","filterType","fixedFilterType","contains","equal","ensureNumericValues","normalizeOptions","tap","debounceTime","debounce","search","truncateText","substring","trim","onOk","ADD","REMOVE","onCancel","onClose","isUpdateButtonDisabled","option","some","o","addOptionToSelected","facet","isSelected","f","selected","firstValue","secondValue","between","offset","newValue","newType","isArray","selection","selectedOption","find","facetOption","forEach","fac","FacetDetailsModalComponent_Factory","__ngFactoryType__","cmp","viewQuery","FacetDetailsModalComponent_Query","tmp_4_0","dependencies","NgTemplateOutlet","i2$1","NumberValueAccessor","MatIconButton","MatProgressSpinnerModule","MatProgressSpinner","MatListModule","i10","MatSelectionList","MatListOption","i11","MatSuffix","i12","MatDatepickerModule","i13","MatDatepicker","MatDatepickerInput","MatDatepickerToggle","MatNativeDateModule","i14","i15","MatOptionModule","animation","trigger","transition","style","opacity","height","animate","Component","imports","animations","Inject","ViewChildren","DefaultFacetModalConfig","backdropClass","hasBackdrop","panelClass","facetModalAnimations","modalContainer","state","transform","FacetModalComponent","BasePortalOutlet","portalOutlet","hostClass","animationStateChanged","animationState","_onAnimationDone","toState","totalTime","_onAnimationStart","attachComponentPortal","componentPortal","attachTemplatePortal","portal","_startExitAnimation","FacetModalComponent_Query","CdkPortalOutlet","_t","FacetModalComponent_animation_modalContainer_start_HostBindingHandler","features","PortalModule","i2$2","ViewChild","static","HostBinding","HostListener","FacetModalService","overlay","injector","target","facetModalConfig","assign","offsetY","offsetX","centered","position","global","centerHorizontally","centerVertically","flexibleConnectedTo","withPush","withFlexibleDimensions","withPositions","overlayX","overlayY","originX","originY","create","scrollStrategy","scrollStrategies","block","width","updateSize","Injector","provide","useValue","parent","modal","attach","ComponentPortal","instance","Overlay","prov","factory","providedIn","Injectable","PresetDeleteModalComponent","confirm","PresetDeleteModalComponent_Factory","PresetDeleteModalComponent_Template","PresetManagerModalComponent","modalService","elementRef","filterText","editingPresetId","editingName","presets","filteredPresets","preset","name","onLoad","trimmed","onRename","item","updatedAt","toISOString","result","onDelete","PresetManagerModalComponent_Factory","PresetManagerModalComponent_Template","NgIf","MatMenuModule","i10$1","MatMenu","MatMenuItem","MatMenuTrigger","PresetNameModalComponent","initialName","save","PresetNameModalComponent_Factory","PresetNameModalComponent_Template","VCRefInjector","parentIdentifier","tagName","_lView","chipAnimation","FacetStorageService","storageStrategy","updateLoggingCallback","updateSavedFacets","selectedFacets","mode","storageBackend","setItem","JSON","stringify","clearStorage","removeItem","loadFacetsFromStorage","sessionFacets","checkStorage","parse","getItem","localStorage","updateStorageStrategy","sessionStorage","FacetPresetStorageService","updateStorageKeyPrefix","prefix","updateStorageCallbacks","updateStorageConfig","loadPresets","stored","getStorageKey","parsed","savePresets","clearPresets","FACET_TOOLKIT_CONFIG","makeEnvironmentProviders","provideNativeDateAdapter","CSVPipe","objectKeyName","separator","e","join","pure","Pipe","FilterPipe","objectArray","fieldName","fieldValue","obj","KeysPipe","keys","k","clearButtonText","dateFormat","displayFilterIcon","facetWidth","facetHasBackdrop","facetChange","output","facetRemoved","facetReset","filterInput","inputAutoComplete","presetMenuButton","chipScrollContainer","signal","injectedConfig","inject","storageService","presetStorageService","vcRef","ViewContainerRef","resolvedIdentifier","timeoutHandler","chipRowResizeObserver","chipRowUpdateHandle","injectorRef","activeFilterCount","computed","chipRowScrollableEnabled","showFilterCountEnabled","facetDefinitions","selectedFacetViews","toEditorState","sort","a","b","localeCompare","chipRowHasOverflow","availableFacets","selectedIds","has","filteredFacets","effect","resolveIdentity","refreshPresets","refreshSelectionsFromFacets","selections","scheduleChipRowUpdate","getFixedURL","window","location","pathname","toString","replace","fromEvent","distinctUntilChanged","ResizeObserver","updateChipRowOverflow","observe","ngOnDestroy","disconnect","cancelAnimationFrame","source","_elementRef","facetSelected","top","clientHeight","left","autoCompleteDisplay","_","autoCompleteSelected","selectedFacet","parentElement","getBoundingClientRect","editorState","toSelection","promptFacet","facetDetailsModal","addOrUpdateFacet","nextSelections","existing","concat","updatedSelections","readonlySelections","defaultValues","title","confirmLabel","savePreset","renamePreset","presetById","Map","get","cloneSelections","v4","createdAt","nextPresets","persistPresets","requestAnimationFrame","container","scrollWidth","clientWidth","stopPropagation","openPanel","getValue","getDateValue","identify","getIdentifierStrategy","printIdentity","clearTimeout","manual","identifierInput","identity","WindowURL","Random","storedSelections","storedById","resolveFilterType","definition","isObservable","NgxMatFacetToolkitComponent_Query","MatAutocompleteTrigger","NgxMatFacetToolkitComponent_Template_input_keydown_delete_8_listener","auto_r13","A11yModule","DatePipe","ReactiveFormsModule","MatProgressBarModule","MatChipsModule","i8$1","MatChipGrid","MatChipInput","MatChipOption","MatChipRemove","MatAutocompleteModule","i10$2","MatAutocomplete","OverlayModule","read","facetFilters","OutputComponent_Template","JsonPipe","PageOneComponent_Template","PageOneComponent_Template_ngx_mat_facet_toolkit_facetChange_2_listener","PageOneComponent_Template_app_settings_facetsUpdated_5_listener","PageOneComponent_Template_app_settings_strategyUpdated_5_listener","PageOneComponent_Template_app_settings_manualIdentifierUpdated_5_listener"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}